{"version":3,"sources":["../jspm_packages/npm/geval@2.1.1/event.js","../jspm_packages/npm/geval@2.1.1/single.js","../jspm_packages/npm/geval@2.1.1/multiple.js","../jspm_packages/npm/xtend@4.0.1/immutable.js","../jspm_packages/npm/xtend@4.0.1.js","../jspm_packages/npm/performance-now@0.1.4/lib/performance-now.js","../jspm_packages/npm/performance-now@0.1.4.js","../jspm_packages/npm/raf@2.0.4/index.js","../jspm_packages/npm/raf@2.0.4.js","../jspm_packages/npm/camelize@1.0.0/index.js","../jspm_packages/npm/camelize@1.0.0.js","../jspm_packages/npm/string-template@0.2.1/index.js","../jspm_packages/npm/string-template@0.2.1.js","../jspm_packages/npm/xtend@4.0.1/mutable.js","../jspm_packages/npm/error@4.4.0/typed.js","../jspm_packages/npm/main-loop@3.2.0/index.js","../jspm_packages/npm/main-loop@3.2.0.js","../jspm_packages/npm/value-event@5.1.0/event.js","../jspm_packages/npm/value-event@5.1.0/value.js","../jspm_packages/npm/value-event@5.1.0/submit.js","../jspm_packages/npm/xtend@2.2.0/has-keys.js","../jspm_packages/npm/xtend@2.2.0/index.js","../jspm_packages/npm/xtend@2.2.0.js","../jspm_packages/npm/dom-walk@0.1.1/index.js","../jspm_packages/npm/dom-walk@0.1.1.js","../jspm_packages/npm/form-data-set@2.0.0/index.js","../jspm_packages/npm/form-data-set@2.0.0/element.js","../jspm_packages/npm/value-event@5.1.0/change.js","../jspm_packages/npm/value-event@5.1.0/key.js","../jspm_packages/npm/individual@2.0.0/index.js","../jspm_packages/npm/individual@2.0.0.js","../jspm_packages/npm/cuid@1.3.8/dist/browser-cuid.js","../jspm_packages/npm/cuid@1.3.8.js","../jspm_packages/npm/weakmap-shim@1.1.0/hidden-store.js","../jspm_packages/npm/weakmap-shim@1.1.0/create-store.js","../jspm_packages/npm/dom-delegator@13.1.0/add-event.js","../jspm_packages/npm/dom-delegator@13.1.0/remove-event.js","../jspm_packages/npm/inherits@2.0.1/inherits_browser.js","../jspm_packages/npm/inherits@2.0.1.js","../jspm_packages/npm/dom-delegator@13.1.0/proxy-event.js","../jspm_packages/npm/dom-delegator@13.1.0/dom-delegator.js","../jspm_packages/npm/dom-delegator@13.1.0/index.js","../jspm_packages/npm/dom-delegator@13.1.0.js","../jspm_packages/npm/value-event@5.1.0/base-event.js","../jspm_packages/npm/value-event@5.1.0/click.js","../jspm_packages/npm/observ-array@3.2.1/splice.js","../jspm_packages/npm/observ-array@3.2.1/put.js","../jspm_packages/npm/adiff@0.2.13/index.js","../jspm_packages/npm/adiff@0.2.13.js","../jspm_packages/npm/observ-array@3.2.1/set.js","../jspm_packages/npm/observ-array@3.2.1/transaction.js","../jspm_packages/npm/observ-array@3.2.1/array-reverse.js","../jspm_packages/npm/observ-array@3.2.1/apply-patch.js","../jspm_packages/npm/observ-array@3.2.1/array-sort.js","../jspm_packages/npm/observ-array@3.2.1/array-methods.js","../jspm_packages/npm/observ-array@3.2.1/lib/set-non-enumerable.js","../jspm_packages/npm/observ-array@3.2.1/add-listener.js","../jspm_packages/npm/observ-array@3.2.1/index.js","../jspm_packages/npm/observ-array@3.2.1.js","../jspm_packages/npm/observ-struct@5.0.1/index.js","../jspm_packages/npm/observ-struct@5.0.1.js","../jspm_packages/npm/xtend@3.0.0/index.js","../jspm_packages/npm/xtend@3.0.0.js","../jspm_packages/npm/process@0.11.3/browser.js","../jspm_packages/npm/process@0.11.3.js","../jspm_packages/github/jspm/nodelibs-process@0.1.2/index.js","../jspm_packages/github/jspm/nodelibs-process@0.1.2.js","../jspm_packages/npm/observ-varhash@1.0.8/index.js","../jspm_packages/npm/observ-varhash@1.0.8.js","../jspm_packages/npm/observ@0.2.0.js","../jspm_packages/npm/virtual-dom@2.1.1/vtree/diff-props.js","../jspm_packages/npm/virtual-dom@2.1.1/vtree/diff.js","../jspm_packages/npm/virtual-dom@2.1.1/vdom/dom-index.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/vpatch.js","../jspm_packages/npm/virtual-dom@2.1.1/vdom/update-widget.js","../jspm_packages/npm/virtual-dom@2.1.1/vdom/patch-op.js","../jspm_packages/npm/virtual-dom@2.1.1/vdom/patch.js","../jspm_packages/npm/vdom-thunk@3.0.0/shallow-eq.js","../jspm_packages/npm/vdom-thunk@3.0.0/immutable-thunk.js","../jspm_packages/npm/vdom-thunk@3.0.0/partial.js","../jspm_packages/npm/vdom-thunk@3.0.0/index.js","../jspm_packages/npm/vdom-thunk@3.0.0.js","../jspm_packages/npm/global@4.3.0/document.js","../jspm_packages/npm/is-object@1.0.1/index.js","../jspm_packages/npm/is-object@1.0.1.js","../jspm_packages/npm/virtual-dom@2.1.1/vdom/apply-properties.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/handle-thunk.js","../jspm_packages/npm/virtual-dom@2.1.1/vdom/create-element.js","../jspm_packages/npm/x-is-array@0.1.0/index.js","../jspm_packages/npm/x-is-array@0.1.0.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/vnode.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/vtext.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/is-vnode.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/version.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/is-vtext.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/is-widget.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/is-vhook.js","../jspm_packages/npm/virtual-dom@2.1.1/vnode/is-thunk.js","../jspm_packages/npm/browser-split@0.0.1/index.js","../jspm_packages/npm/browser-split@0.0.1.js","../jspm_packages/npm/virtual-dom@2.1.1/virtual-hyperscript/parse-tag.js","../jspm_packages/npm/virtual-dom@2.1.1/virtual-hyperscript/hooks/soft-set-hook.js","../jspm_packages/npm/individual@3.0.0/index.js","../jspm_packages/npm/individual@3.0.0/one-version.js","../jspm_packages/npm/ev-store@7.0.0/index.js","../jspm_packages/npm/ev-store@7.0.0.js","../jspm_packages/npm/virtual-dom@2.1.1/virtual-hyperscript/hooks/ev-hook.js","../jspm_packages/npm/virtual-dom@2.1.1/virtual-hyperscript/index.js","../jspm_packages/npm/virtual-dom@2.1.1/virtual-hyperscript.js","../jspm_packages/npm/observ@0.2.0/index.js","../jspm_packages/npm/observ@0.2.0/computed.js","../jspm_packages/npm/observ@0.2.0/watch.js","../jspm_packages/npm/mercury@14.1.0/index.js","../jspm_packages/npm/mercury@14.1.0.js"],"names":[],"mappings":"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A;EAGJ;AAAA;AAGI;EACJ;AAAA;AAGI;EACJ;AAAA;AA1E6H;AA2E7H;AC3EA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACA;AACE;IACF;AAAA;AAEE;AACE;MACF;AAAA;AAEF;EACF;AAAA;AAEE;AACA;EACF;AAAA;AAnByL;AAoBzL;ACpBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACE;AACE;MACF;AAAA;IAEF;AAAA;AAEA;AACA;EACF;AAAA;AAnB2N;AAoB3N;ACpBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;AACA;AACE;IACF;AAAA;AACF;AAR8J;AAS9J;ACTA;AAAA;AACI;AAAY;AAAe;AAA/B;AAIA;AAEA;AACI;AACI;IACJ;AAAA;AAGI;AACE;AAAiB;AAGvB;EACJ;AAAA;AAlB0H;AAmB1H;ACnBA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAmJ;AAA7F;ACAtD;AAAA;AACI;AAAY;AAAe;AAA/B;AACE;AACE;AACA;AACI;AACA;AACA;AACA;AACA;AACE;AACA;UACF;AACA;AACE;UACF;AACA;AACE;AACA;AACA;UACF;AACA;AACE;AACI;AACA;AACA;AACA;AACJ;AACA;UACF;AACJ;AACE;AACI;AACA;AACA;AACJ;AACA;MACF;AACA;AACE;AACE;AACI;AACJ;AACE;UACF;AAAA;QAEF;AACA;AACE;QACF;AACA;MACF;AACA;AACE;MACF;AACA;AACE;MACF;AACE;MACF;AACE;MACF;AAAA;EAEJ;AA/DA;AAAuK;AAgEvK;AChEA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAmJ;AAApF;ACA/D;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AACI;AACA;AAEA;AACI;AACI;MAEJ;AACA;AAAa;AAGjB;EACJ;AAAA;AAhBmI;AAiBnI;ACjBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;AACA;AACE;AACE;MACF;AAAA;AAEA;IACF;EACF;AAAA;AAZ2K;AAa3K;ACbA;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AAEA;AACI;AACA;AAEA;AACI;IACJ;AACI;AACI;MACJ;AAAA;AAEA;IACJ;AAAA;AACJ;AAlByJ;AAmBzJ;ACnBA;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AAEA;AACI;AACA;AAEA;AACI;IACJ;AACI;AACA;AACI;MACJ;AAAA;AAEA;IACJ;AAAA;AACJ;AAnB4J;AAoB5J;ACpBA;AAAA;AACI;AAAY;AAAe;AAA/B;AAEE;AACE;AACA;AAEI;AACA;AACA;AACA;AAAiB;IAGvB;EACF;AAEE;AACE;AACA;AACA;AACA;AACA;IACF;EACF;AAAA;AAvBmI;AAwBnI;ACxBA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA0J;AAAxF;ACAlE;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AAKA;AACA;AAMA;AACA;AAEA;AAEA;AACI;AACI;IACJ;AAAA;AAGI;IACJ;AACI;IACJ;AAAA;AAGI;AACA;IACJ;AAAA;AAGA;EACJ;AAAA;AAGI;EACJ;AAEA;AACI;EACJ;AAEA;AACI;AACI;AACA;IACJ;AAAA;AAGI;AACA;IACJ;AAAA;EAGJ;AAAA;AAIA;AACI;AACI;AACA;IACJ;AAAA;AAGI;AACA;IACJ;AAAA;EAGJ;AAAA;AA5EA;AAA2J;AA+E3J;AC/EA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACE;IACF;AAAA;AAEA;AACA;AACA;AACA;EACF;AAAA;AAEA;AACA;AACE;AACA;AACA;EACF;AACA;AACE;AACA;AACE;IACF;EACF;AACA;AACE;AACA;AACE;IACF;AAAA;EAEF;AACA;AACE;AACA;AACA;AACE;IACF;AAAA;AAEF;AACE;AACE;IACF;AAAA;AAEA;AACE;IACF;AAAA;AAEA;AACE;IACF;AAAA;EAEF;AACA;AACE;AACE;IACF;AAAA;AAEE;IACF;AAAA;AAEA;AACE;IACF;AAAA;AAEA;AACE;IACF;AAAA;EAEF;AACA;AACE;AACA;AACA;AACA;AACE;AACA;AACE;AACA;AACA;MACF;AAAA;IAEF;AAAA;AACF;AAEE;AACA;AACE;AACA;AACA;AACA;AACE;AACA;MACF;AAAA;AACF;AACF;AAEE;AACE;IACF;AAAA;AAEA;AACA;AACA;AACE;IACF;AAAA;AAEA;EACF;AAAA;AAEE;AACE;AACE;MACF;AACE;MACF;AACE;MACF;AACE;MACF;AAAA;EAEJ;AAAA;AAEE;AACA;EACF;AAAA;AAEE;EACF;AAAA;AAvIkW;AAwIlW;ACxIA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;IACF;AAAA;AAEA;AACE;IACF;AAAA;AAEE;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAEA;AA9BA;AAAsP;AA+BtP;AC/BA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA2J;AAAjG;ACA1D;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AAEA;AACI;AAEA;AACI;AACI;AACA;AACA;AACA;AAAuB;AAG3B;AACI;MAEJ;AAAA;IAGJ;AAAA;AAGI;AACI;MACJ;AAAA;IAGJ;AAAA;AAGI;AAEA;AACI;MACJ;AAAA;AAIA;AACI;AACI;QACJ;AACI;QACJ;AAAA;AACJ;AACJ;AACJ;AAjD6J;AAkD7J;AClDA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;AACA;AACE;IACF;AAAA;AAEE;IACF;AAAA;AAEE;IACF;AAAA;AAEE;IACF;AAAA;EAEF;AAAA;AAlBgK;AAmBhK;ACnBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;AACE;MACF;AAAA;IAEF;AACA;AACA;AACA;AACE;IACF;AACA;AACA;AACA;AACE;AACE;MACF;AAAA;AAEF;AACA;AACA;EACF;AAAA;AA9BwN;AA+BxN;AC/BA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACE;IACF;AAAA;AAEA;AACA;AACA;AACA;EACF;AAAA;AAnBqN;AAoBrN;ACpBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACE;EACF;AAAA;AAGE;EACF;AAAA;AAGE;EACF;AAAA;AAGE;EACF;AAAA;AAGE;EACF;AAAA;AAGE;AACE;AACE;AAAU;EAEhB;AAAA;AAGE;AACI;IACJ;EACF;AAAA;AAGE;EACF;AAAA;AAOA;AACE;AAAY;AAAW;AAErB;AAAyB;AAAW;AAEpC;AACE;AAAwB;AAAW;AAEnC;AAAwB;AAAW;IAEvC;AAAA;EAEF;AAAA;AAGE;EACF;AAAA;AAIE;AACA;AACE;AACA;AACA;AACE;AACE;QACF;AAAA;AACF;IAEF;AAAA;AAGA;AAAY;AAAO;AAInB;EACF;AAAA;AAEE;AACA;AACA;AAEE;AACA;AACA;AAAiB;AAEjB;AACE;MACF;AAAA;AAOE;AACA;MACF;AAAA;AAMe;AACf;AAIE;AAAY;AAGZ;AAAe;AAMf;AAAM;AAGN;AAA2B;AAAQ;AAEd;AAAsB;AAGzC;WACG;AACH;AACA;AACA;QACF;AAAA;AACF;AAGA;AAEA;IAKF;AAIA;AAEE;AAA6B;MAAiB;AAC9C;AACA;AAEA;AACE;AACE;AAAW;MAEf;AAAA;AAIE;AACE;AAAmB;AAGrB;AACE;AACA;AACE;AACA;UACF;AAAA;QAEF;AACA;AAAM;AAA2B;AACnC;AAIF;AAEE;AACA;AACA;AACA;AACE;AACE;AAAiB;AACjB;AACE;AACA;UACF;AAAA;AAIE;AACE;eAEG;AACH;AAAkC;AACtC;QAEF;AAAA;IAGJ;AAEA;AAEE;AACA;AACA;AACE;AACA;AACA;MACF;AACA;IACF;AAEA;AACE;AAAoB;AAAa;AAE/B;MACF;AACA;IACF;AAIA;AACE;AACA;AACA;IACF;AAEA;AACE;AACA;AACA;AACE;AACA;AACA;AAAwB;AAAK;MAE/B;AACA;IACF;AACA;AAEI;AAEA;AACA;AACA;AACE;AAAgB;AAEhB;AAAgB;AAEtB;AAII;AACA;AAIA;AAAgB;AACd;AACE;AAAc;;AACT;AAAK;IAEhB;AAEF;AAEA;AACE;AACA;AAEE;AACA;AAAM;AAAO;AACf;AAeA;IACF;AAAA;EAEF;AACA;AA7SA;AAAsH;AA8StH;AC9SA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA2I;AAAtF;ACArD;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACE;AACE;AAAY;AAEd;AACA;AACA;AACA;AACA;AACA;EACF;AAAA;AAf0O;AAgB1O;AChBA;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AACI;AACA;AAEA;AACI;IACJ;AAAA;AAEJ;AAXkI;AAWlI;ACXA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;EACF;AAAA;AAEE;AACA;AACA;AACE;AACA;AACA;AACA;IACF;AACE;IACF;AAAA;EAEF;AAAA;AAzB8N;AA0B9N;AC1BA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACE;IACF;AACA;AACA;AACA;AACE;AACE;MACF;AAAA;AAEF;EACF;AAAA;AAEE;AACE;IACF;AAAA;EAEF;AAAA;AAzB0K;AA0B1K;AC1BA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;IACF;AACA;AACA;AACA;AACA;AACA;AACA;EACF;AAAA;AAEE;AACA;AACE;AACE;AACA;AAAW;IAEf;AAAA;EAEF;AAAA;AAEE;AACA;AACE;AACA;AACA;AACE;AAA4C;AAChD;EAEF;AAAA;AAEE;AACE;AACE;AAAQ;AACZ;EAEF;AAAA;AA5C2N;AA6C3N;AC7CA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACE;AACA;AACE;MACF;AAAA;IAEF;EACF;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACE;IACF;AACA;EACF;AAAA;AAEE;AACA;AACA;AACA;EACF;AAAA;AAEE;EACF;AAAA;AAEE;EACF;AAAA;AAEE;AACA;AACA;AACA;EACF;AAAA;AAEE;EACF;AAAA;AA9CsP;AA+CtP;AC/CA;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AACI;AACI;AACA;AACA;AACA;AAAgB;EAExB;AAAA;AAV6I;AAW7I;ACXA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;AACA;AACE;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;MACF;AAAA;AAEA;AACA;IACF;EACF;AAAA;AApBqL;AAqBrL;ACrBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACE;IACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;IACF;AACA;AACA;AACA;AACA;EACF;AAAA;AAEE;EACF;AAAA;AAEE;EACF;AAAA;AArC+W;AAsC/W;ACtCA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAuJ;AAA/F;ACAxD;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AAEA;AACA;AACI;AACA;AACA;AACA;AAAyD;AAE7D;AAEA;AACI;AACI;AACA;AACA;AACA;AAAgB;EAExB;AAAA;AAWA;AACI;AAEA;AACA;AACA;AAEA;AACI;AACI;MAGJ;AAAA;AAGA;IAEJ;AAEA;AACA;AACI;AACA;AAEA;AACI;AACI;AACI;UACJ;AAAA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;QACJ;MACJ;AAAA;AAEJ;AACA;AACI;AACI;MACJ;AAAA;AAGA;AACA;IACJ;AAEA;AACI;AACI;MACJ;AAAA;AAGI;AACA;AAEA;AAGI;AACA;AACA;QACJ;AAAA;IAER;AAEA;AACA;AAEA;EACJ;AAAA;AA5GuK;AA6GvK;AC7GA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAyJ;AAAhG;ACAzD;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AACI;AAEA;AACI;AAEA;AACI;AACI;QACJ;AAAA;AACJ;AACJ;EAGJ;AAAA;AAjBqH;AAkBrH;AClBA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAyI;AAAxF;ACAjD;AAAA;AACI;AAAY;AAAe;AAC/B;AACA;AACA;AACA;AACA;AAEA;AACI;AACI;IACJ;AAAA;AAEA;AACI;IACJ;AACI;IACJ;AAAA;AAEI;IACJ;AAAA;AACJ;AAGI;AACI;IACJ;AAAA;AAEA;AAEA;AACA;AACI;AACA;AACA;AACI;AACI;QACJ;AAAA;AACJ;AAEA;IACJ;AAAA;AAEA;AACA;EACJ;AAAA;AAGI;AACA;AACI;AACI;MACJ;AAAA;AACJ;AAEA;AACI;IACJ;AAAA;AAIJ;AACI;AACA;EACJ;AAAA;AAEI;EACJ;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAiB;AAGjB;AACA;AACA;AACA;AACA;AACA;AAEA;AACI;EACJ;AAEA;AAA4B;EAAW;AACvC;AACI;EACJ;AACA;AAA6B;EAAU;AA7FvC;AAA0H;AA8F1H;AC9FA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAiJ;AAAxF;ACAzD;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA+J;AAA5F;ACAnE;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA+K;AAA3G;ACApE;AAAA;AACI;AAAY;AAAe;AAA/B;AACE;AACA;AACA;AACA;AACA;AACE;AACE;MACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACE;QACF;AAAA;AACF;AAEA;AACE;AACE;QACF;AAAA;AAEA;AACA;MACF;AACA;AACA;AACA;AACE;AACA;AACA;MACF;AAAA;AAEA;AACE;AACE;QACF;AAAA;AAEE;AACA;AACA;AACE;AACA;AACA;UACF;AAAA;AACF;AAEF;AACE;AACA;AACE;QACF;AAAA;AAEA;AACA;AACA;AACE;QACF;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;MACF;AAAA;AAEE;AACA;AACE;QACF;AAAA;AAEA;AACA;AACA;AACA;AACA;MACF;AAAA;AAEA;AACE;AACE;AACE;UACF;AAAA;AAEA;AACA;AACA;AACA;AACA;QACF;MACF;AAAA;AACF;AAEE;IACF;AAAA;AAEE;AACA;AACA;IACF;AAAA;AAEE;IACF;AAAA;AAEE;AACE;AACA;AACA;AACA;AAAgB;IAEpB;AAAA;AAEE;AACA;AACA;AACA;AACA;AACA;AAAuE;AAEzE;AACE;AACE;AAAM;IAEV;AAAA;AApIF;AAAgN;AAsIhN;ACtIA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA2J;AAAjG;ACA1D;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAA2I;AAAzF;ACAlD;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACA;AACE;AACE;AACA;MACF;AAAA;AAEA;AACA;AACE;MACF;AACE;AACE;AACA;QACF;AACE;AACA;QACF;AACE;AACA;AACE;AACA;UACF;AAAA;AACF;AAEA;AACA;MACF;AAAA;AACF;AAEE;AACE;AACA;MACF;AAAA;AACF;EAEF;AAAA;AAEE;AACE;IACF;AACE;IACF;AACE;IACF;AAAA;AACF;AAlDwM;AAmDxM;ACnDA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;EACF;AAAA;AAEE;AACE;IACF;AAAA;AAEA;AACA;AACE;IACF;AACE;AACE;AACA;MACF;AAAA;IAEF;AACE;AACE;AACE;AACA;AACE;UACF;AAAA;QAEF;AACE;AACA;QACF;AAAA;AAEA;AACA;MACF;AAAA;AAEA;AACE;AACA;MACF;AACE;MACF;AAAA;AAEA;AACE;MACF;AAAA;IAEF;AAAA;AAEE;IACF;AAAA;AAEE;IACF;AAAA;AACF;AAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;AACE;QACF;AAAA;AAEA;MACF;AAAA;AAEE;MACF;AAAA;AACF;AAEE;IACF;AAAA;EAEF;AAAA;AAEE;AACA;EACF;AAAA;AAEE;AACE;AACE;MACF;AAAA;AAEA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;QACF;AAAA;AACF;AAEA;IACF;AAAA;AACF;AAEE;AACA;AACA;AACE;IACF;AAAA;AACF;AAEE;AACE;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAEE;AACE;AACE;MACF;AAAA;AAEE;AACA;AACA;AACE;AACA;AACA;AACA;AACE;UACF;AAAA;AACF;AACF;AAEA;IACF;AAAA;AACF;AAEE;AACA;AACE;IACF;AAAA;EAEF;AAAA;AAEE;AACA;AACA;AACA;AACE;AACE;AACA;AAAU;IAEd;AAAA;AAEA;AACA;AACA;AACE;AACE;AACA;AAAU;IAEd;AAAA;AAEA;AACA;AACA;AACA;AACE;AACA;AACA;AACE;AACE;AACA;QACF;AACE;AACA;QACF;AAAA;AAEA;AACE;AACA;QACF;AACE;AACA;QACF;AAAA;AACF;AACF;AAEA;AACE;AACA;AACE;AACE;QACF;AAAA;AAEA;MACF;AAAA;AACF;AAEA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACE;AACA;MACF;AAAA;AAEE;AACE;AACE;AACE;AACA;AACA;AACE;AACE;AACA;AAAI;cAER;AACE;cACF;AAAA;AAEA;AACE;AACA;AAAI;YAER;AAAA;AAEA;AACE;AACA;AAAI;UAER;AAAA;QAEF;AACE;QACF;AAAA;AAEA;AACA;MACF;AAAA;AACF;AAEE;AACA;IACF;AAAA;AAEE;AACE;AACA;AAAU;IAEd;AAAA;AAEE;AACA;AACE;AACA;AAAe;AACjB;EAEJ;AAAA;AAEE;AACA;AACE;AACA;AAAO;EAEX;AAAA;AAEE;AACA;AACA;AACA;AACE;AACA;AACE;MACF;AACE;MACF;AAAA;AACF;AAEE;AACA;AAAS;EAEb;AAAA;AAEE;AACE;AACE;MACF;AACE;MACF;AAAA;IAEF;AACE;IACF;AAAA;AACF;AA1Toc;AA2Tpc;AC3TA;AAAA;AACI;AAAY;AAAe;AAK/B;AAEA;AAEA;AACI;AACI;IACJ;AACI;AACA;IACJ;AAAA;AACJ;AAGI;AAGA;AACI;AACI;MACJ;AAAA;AAIA;AAEI;AAEA;AACI;AAEA;AACA;AAGA;AACI;UACJ;AAAA;QAGJ;AAAA;AACJ;AACJ;EAGJ;AAAA;AAII;AACI;IACJ;AAAA;AAGA;AACA;AACA;AAEA;AACI;AACA;AAEA;AACI;MACJ;AACI;MACJ;AACI;MACJ;AACI;MACJ;AAAA;AACJ;EAGJ;AAAA;AAGI;EACJ;AAAA;AApFoI;AAqFpI;ACrFA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;EACF;AAAA;AAEA;AAlBA;AAA0K;AAmB1K;ACnBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;AACE;AACE;MACF;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAZkL;AAalL;ACbA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;AACE;AAAiC;AAEjC;AAAgD;AAEhD;AAAwD;AAExD;AAAwD;AAExD;AAAuD;AAEvD;AACA;AAAc;AAEd;AACA;AAAc;AAEd;AAA+E;AAE/E;AADK;EAGX;AAAA;AAEE;AACA;AACE;IACF;AAAA;AAEA;EACF;AAAA;AAEE;AACA;AACE;IACF;AAAA;EAEF;AAAA;AAEE;AACA;AACE;AACA;IACF;AACE;AACA;AACA;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAEE;AACA;AACA;AACE;IACF;AACE;IACF;AAAA;AAEA;AACE;IACF;AAAA;AAEE;IACF;AAAA;EAEF;AAAA;AAEE;AACA;AACA;AACE;IACF;AAAA;EAEF;AAAA;AAEE;AACE;IACF;AAAA;AACF;AAEE;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACE;MACF;AAAA;IAEF;AAAA;AAEA;AACE;AACA;AACA;IACF;AAAA;AACF;AAEE;AACE;IACF;AAAA;EAEF;AAAA;AAtHoT;AAuHpT;ACvHA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;EACF;AAAA;AAEE;AACA;AACE;IACF;AAAA;AAEA;AACA;AACE;IACF;AAAA;AAEE;AACA;IACF;AAAA;EAEF;AAAA;AAEE;AACE;IACF;AAAA;AAEA;AACE;AACE;AACA;AACE;QACF;AAAA;AACF;AAEA;AACA;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAEE;AACA;AACE;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAzD0T;AA0D1T;AC1DA;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AACI;AACI;IACJ;AAAA;AAGI;IACJ;AAAA;AAIA;AACI;AACI;MACJ;AAAA;AACJ;EAGJ;AAAA;AArB+H;AAsB/H;ACtBA;AAAA;AACI;AAAY;AAAe;AAA/B;AACI;AACA;AACA;AACA;EACJ;AAAA;AAGA;AACA;AAEA;AACI;AACI;IACJ;AAAA;AAGA;AAEA;EACJ;AAAA;AAGI;AACI;IACJ;AACI;IACJ;AAAA;AACJ;AA7BoI;AA8BpI;AC9BA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACE;AACA;AACA;AACA;AACA;AACE;AACE;QACF;AACE;QACF;AAAA;AACF;IAEF;EACF;AAAA;AAEE;AACA;AACE;IACF;AAAA;EAEF;AAAA;AA1B0M;AA2B1M;AC3BA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AAFA;AAA2J;AAG3J;ACHA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAmJ;AAA7F;ACAtD;AAAA;AACI;AAAY;AAAe;AAA/B;AAEA;AAEA;AACI;EACJ;AACI;AAEA;AACI;IACJ;AAAA;EAGJ;AAAA;AAfiI;AAgBjI;AChBA;;AAAA;AACI;AAAY;AAAe;AAE/B;AACC;EACD;AALA;AAAyH;AAMzH;ACNA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAiJ;AAA5F;ACArD;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACE;AACE;AACA;AACE;MACF;AACE;AACA;AACE;QACF;AAAA;AAEA;AACE;QACF;AACE;QACF;AAAA;AACF;AACF;AACF;AAEE;AACE;AACA;AACE;AACE;AACE;UACF;AAAA;AAEA;AACE;UACF;AAAA;AAEA;QACF;AACE;QACF;AAAA;AAEA;MACF;AAAA;AACF;AACF;AAEE;AACA;AACE;AACE;AACA;AACE;QACF;AACE;QACF;AAAA;AACF;IAEF;AAAA;AAEE;AACA;IACF;AAAA;AAEE;IACF;AAAA;AAEA;AACE;AACA;IACF;AAAA;AACF;AAEE;AACE;IACF;AACE;IACF;AACE;IACF;AAAA;AACF;AA/E6M;AAgF7M;AChFA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACE;IACF;AAAA;AAEE;IACF;AAAA;AAEE;AACA;AAAW;EAEf;AAAA;AAEE;AACA;AACE;IACF;AAAA;AAEE;IACF;AAAA;EAEF;AAAA;AA7BgT;AA8BhT;AC9BA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACE;IACF;AACE;IACF;AACE;AACE;MACF;AAAA;IAEF;AAAA;AAEA;AACA;AACA;AACA;AACE;AACA;AACE;MACF;AAAA;AACF;EAEF;AAAA;AAjCqY;AAkCrY;AClCA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AAEA;AAEA;AACI;EACJ;AAAA;AAR0H;AAS1H;ACTA;AAAA;AACI;AAAY;AAAe;AAD/B;AAAA;AAAmJ;AAA7F;ACAtD;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACE;AACA;AACE;AACE;UACF;AAAA;QAEF;AAAA;AACF;AACF;AAEE;AACA;AACE;AACA;AACE;QACF;AAAA;AAEE;QACF;AAAA;AAEE;QACF;AAAA;AAEA;AACE;QACF;AAAA;AAEA;MACF;AAAA;AACF;AAEA;AACA;AACA;AACA;EACF;AAAA;AAEA;AA5DA;AAAkV;AA6DlV;AC7DA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;EACF;AAAA;AAEA;AAPA;AAAyK;AAQzK;ACRA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;EACF;AAAA;AAL4K;AAM5K;ACNA;AAAA;AACI;AAAY;AAAe;AAA/B;AADA;AAAmI;AAEnI;ACFA;AAAA;AACI;AAAY;AAAe;AAA/B;AACA;AACA;AACE;EACF;AAAA;AAL4K;AAM5K;ACNA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","file":"mercury.js","sourcesContent":["/* */ \nmodule.exports = Event\n\nfunction Event() {\n    var listeners = []\n\n    return { broadcast: broadcast, listen: event }\n\n    function broadcast(value) {\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](value)\n        }\n    }\n\n    function event(listener) {\n        listeners.push(listener)\n\n        return removeListener\n\n        function removeListener() {\n            var index = listeners.indexOf(listener)\n            if (index !== -1) {\n                listeners.splice(index, 1)\n            }\n        }\n    }\n}\n","/* */ \nvar Event = require('./event');\nmodule.exports = Single;\nfunction Single() {\n  var tuple = Event();\n  return function event(value) {\n    if (typeof value === \"function\") {\n      return tuple.listen(value);\n    } else {\n      return tuple.broadcast(value);\n    }\n  };\n}\n","/* */ \nvar event = require('./single');\nmodule.exports = multiple;\nfunction multiple(names) {\n  return names.reduce(function(acc, name) {\n    acc[name] = event();\n    return acc;\n  }, {});\n}\n","/* */ \nmodule.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","module.exports = require(\"npm:xtend@4.0.1/immutable\");","/* */ \n(function(process) {\n  (function() {\n    var getNanoSeconds,\n        hrtime,\n        loadTime;\n    if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n      module.exports = function() {\n        return performance.now();\n      };\n    } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n      module.exports = function() {\n        return (getNanoSeconds() - loadTime) / 1e6;\n      };\n      hrtime = process.hrtime;\n      getNanoSeconds = function() {\n        var hr;\n        hr = hrtime();\n        return hr[0] * 1e9 + hr[1];\n      };\n      loadTime = getNanoSeconds();\n    } else if (Date.now) {\n      module.exports = function() {\n        return Date.now() - loadTime;\n      };\n      loadTime = Date.now();\n    } else {\n      module.exports = function() {\n        return new Date().getTime() - loadTime;\n      };\n      loadTime = new Date().getTime();\n    }\n  }).call(this);\n})(require('process'));\n","module.exports = require(\"npm:performance-now@0.1.4/lib/performance-now.js\");","/* */ \nvar now = require('performance-now')\n  , global = typeof window === 'undefined' ? {} : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = global['request' + suffix]\n  , caf = global['cancel' + suffix] || global['cancelRequest' + suffix]\n  , isNative = true\n\nfor(var i = 0; i < vendors.length && !raf; i++) {\n  raf = global[vendors[i] + 'Request' + suffix]\n  caf = global[vendors[i] + 'Cancel' + suffix]\n      || global[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  isNative = false\n\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  if(!isNative) {\n    return raf.call(global, fn)\n  }\n  return raf.call(global, function() {\n    try{\n      fn.apply(this, arguments)\n    } catch(e) {\n      setTimeout(function() { throw e }, 0)\n    }\n  })\n}\nmodule.exports.cancel = function() {\n  caf.apply(global, arguments)\n}\n","module.exports = require(\"npm:raf@2.0.4/index.js\");","/* */ \nmodule.exports = function(obj) {\n    if (typeof obj === 'string') return camelCase(obj);\n    return walk(obj);\n};\n\nfunction walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (isDate(obj) || isRegex(obj)) return obj;\n    if (isArray(obj)) return map(obj, walk);\n    return reduce(objectKeys(obj), function (acc, key) {\n        var camel = camelCase(key);\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n}\n\nfunction camelCase(str) {\n    return str.replace(/[_.-](\\w|$)/g, function (_,x) {\n        return x.toUpperCase();\n    });\n}\n\nvar isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\nvar isDate = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n};\n\nvar isRegex = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar has = Object.prototype.hasOwnProperty;\nvar objectKeys = Object.keys || function (obj) {\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n\nfunction map (xs, f) {\n    if (xs.map) return xs.map(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        res.push(f(xs[i], i));\n    }\n    return res;\n}\n\nfunction reduce (xs, f, acc) {\n    if (xs.reduce) return xs.reduce(f, acc);\n    for (var i = 0; i < xs.length; i++) {\n        acc = f(acc, xs[i], i);\n    }\n    return acc;\n}\n","module.exports = require(\"npm:camelize@1.0.0/index.js\");","/* */ \nvar nargs = /\\{([0-9a-zA-Z]+)\\}/g\nvar slice = Array.prototype.slice\n\nmodule.exports = template\n\nfunction template(string) {\n    var args\n\n    if (arguments.length === 2 && typeof arguments[1] === \"object\") {\n        args = arguments[1]\n    } else {\n        args = slice.call(arguments, 1)\n    }\n\n    if (!args || !args.hasOwnProperty) {\n        args = {}\n    }\n\n    return string.replace(nargs, function replaceArg(match, i, index) {\n        var result\n\n        if (string[index - 1] === \"{\" &&\n            string[index + match.length] === \"}\") {\n            return i\n        } else {\n            result = args.hasOwnProperty(i) ? args[i] : null\n            if (result === null || result === undefined) {\n                return \"\"\n            }\n\n            return result\n        }\n    })\n}\n","module.exports = require(\"npm:string-template@0.2.1/index\");","/* */ \nmodule.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","/* */ \nvar camelize = require(\"camelize\")\nvar template = require(\"string-template\")\nvar extend = require(\"xtend/mutable\")\n\nmodule.exports = TypedError\n\nfunction TypedError(args) {\n    if (!args) {\n        throw new Error(\"args is required\");\n    }\n    if (!args.type) {\n        throw new Error(\"args.type is required\");\n    }\n    if (!args.message) {\n        throw new Error(\"args.message is required\");\n    }\n\n    var message = args.message\n\n    if (args.type && !args.name) {\n        var errorName = camelize(args.type) + \"Error\"\n        args.name = errorName[0].toUpperCase() + errorName.substr(1)\n    }\n\n    extend(createError, args);\n    createError._name = args.name;\n\n    return createError;\n\n    function createError(opts) {\n        var result = new Error()\n\n        Object.defineProperty(result, \"type\", {\n            value: result.type,\n            enumerable: true,\n            writable: true,\n            configurable: true\n        })\n\n        var options = extend({}, args, opts)\n\n        extend(result, options)\n        result.message = template(message, options)\n\n        return result\n    }\n}\n\n","/* */ \nvar raf = require(\"raf\")\nvar TypedError = require(\"error/typed\")\n\nvar InvalidUpdateInRender = TypedError({\n    type: \"main-loop.invalid.update.in-render\",\n    message: \"main-loop: Unexpected update occurred in loop.\\n\" +\n        \"We are currently rendering a view, \" +\n            \"you can't change state right now.\\n\" +\n        \"The diff is: {stringDiff}.\\n\" +\n        \"SUGGESTED FIX: find the state mutation in your view \" +\n            \"or rendering function and remove it.\\n\" +\n        \"The view should not have any side effects.\\n\",\n    diff: null,\n    stringDiff: null\n})\n\nmodule.exports = main\n\nfunction main(initialState, view, opts) {\n    opts = opts || {}\n\n    var currentState = initialState\n    var create = opts.create\n    var diff = opts.diff\n    var patch = opts.patch\n    var redrawScheduled = false\n\n    var tree = opts.initialTree || view(currentState)\n    var target = opts.target || create(tree, opts)\n    var inRenderingTransaction = false\n\n    currentState = null\n\n    var loop = {\n        state: initialState,\n        target: target,\n        update: update\n    }\n    return loop\n\n    function update(state) {\n        if (inRenderingTransaction) {\n            throw InvalidUpdateInRender({\n                diff: state._diff,\n                stringDiff: JSON.stringify(state._diff)\n            })\n        }\n\n        if (currentState === null && !redrawScheduled) {\n            redrawScheduled = true\n            raf(redraw)\n        }\n\n        currentState = state\n        loop.state = state\n    }\n\n    function redraw() {\n        redrawScheduled = false\n        if (currentState === null) {\n            return\n        }\n\n        inRenderingTransaction = true\n        var newTree = view(currentState)\n\n        if (opts.createOnly) {\n            inRenderingTransaction = false\n            create(newTree, opts)\n        } else {\n            var patches = diff(tree, newTree, opts)\n            inRenderingTransaction = false\n            target = patch(target, patches, opts)\n        }\n\n        tree = newTree\n        currentState = null\n    }\n}\n","module.exports = require(\"npm:main-loop@3.2.0/index\");","/* */ \nvar BaseEvent = require('./base-event');\nmodule.exports = BaseEvent(eventLambda);\nfunction eventLambda(ev, broadcast) {\n  broadcast(this.data);\n}\n","/* */ \nvar extend = require('xtend');\nvar getFormData = require('form-data-set/element');\nvar BaseEvent = require('./base-event');\nmodule.exports = BaseEvent(valueLambda);\nfunction valueLambda(ev, broadcast) {\n  var value = getFormData(ev.currentTarget);\n  var data = extend(value, this.data);\n  broadcast(data);\n}\n","/* */ \nvar extend = require('xtend');\nvar getFormData = require('form-data-set/element');\nvar BaseEvent = require('./base-event');\nvar ENTER = 13;\nmodule.exports = BaseEvent(submitLambda);\nfunction submitLambda(ev, broadcast) {\n  var target = ev.target;\n  var isValid = (ev.type === 'submit' && target.tagName === 'FORM') || (ev.type === 'click' && target.tagName === 'BUTTON') || (ev.type === 'click' && target.type === 'submit') || ((target.type === 'text') && (ev.keyCode === ENTER && ev.type === 'keydown'));\n  if (!isValid) {\n    if (ev.startPropagation) {\n      ev.startPropagation();\n    }\n    return;\n  }\n  var value = getFormData(ev.currentTarget);\n  var data = extend(value, this.data);\n  if (ev.preventDefault) {\n    ev.preventDefault();\n  }\n  broadcast(data);\n}\n","/* */ \nmodule.exports = hasKeys\n\nfunction hasKeys(source) {\n    return source !== null &&\n        (typeof source === \"object\" ||\n        typeof source === \"function\")\n}\n","/* */ \nvar hasKeys = require('./has-keys');\nmodule.exports = extend;\nfunction extend() {\n  var target = {};\n  for (var i = 0; i < arguments.length; i++) {\n    var source = arguments[i];\n    if (!hasKeys(source)) {\n      continue;\n    }\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n}\n","module.exports = require(\"npm:xtend@2.2.0/index\");","/* */ \nvar slice = Array.prototype.slice\n\nmodule.exports = iterativelyWalk\n\nfunction iterativelyWalk(nodes, cb) {\n    if (!('length' in nodes)) {\n        nodes = [nodes]\n    }\n    \n    nodes = slice.call(nodes)\n\n    while(nodes.length) {\n        var node = nodes.shift(),\n            ret = cb(node)\n\n        if (ret) {\n            return ret\n        }\n\n        if (node.childNodes && node.childNodes.length) {\n            nodes = slice.call(node.childNodes).concat(nodes)\n        }\n    }\n}\n","module.exports = require(\"npm:dom-walk@0.1.1/index\");","/*jshint maxcomplexity: 10*/\n\nmodule.exports = FormData\n\n//TODO: Massive spec: http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#constructing-form-data-set\nfunction FormData(elements) {\n    return Object.keys(elements).reduce(function (acc, key) {\n        var elem = elements[key]\n\n        acc[key] = valueOfElement(elem)\n\n        return acc\n    }, {})\n}\n\nfunction valueOfElement(elem) {\n    if (typeof elem === \"function\") {\n        return elem()\n    } else if (containsRadio(elem)) {\n        var elems = toList(elem)\n        var checked = elems.filter(function (elem) {\n            return elem.checked\n        })[0] || null\n\n        return checked ? checked.value : null\n    } else if (Array.isArray(elem)) {\n        return elem.map(valueOfElement).filter(filterNull)\n    } else if (elem.tagName === undefined && elem.nodeType === undefined) {\n        return FormData(elem)\n    } else if (elem.tagName === \"INPUT\" && isChecked(elem)) {\n        if (elem.hasAttribute(\"value\")) {\n            return elem.checked ? elem.value : null\n        } else {\n            return elem.checked\n        }\n    } else if (elem.tagName === \"INPUT\") {\n        return elem.value\n    } else if (elem.tagName === \"TEXTAREA\") {\n        return elem.value\n    } else if (elem.tagName === \"SELECT\") {\n        return elem.value\n    }\n}\n\nfunction isChecked(elem) {\n    return elem.type === \"checkbox\" || elem.type === \"radio\"\n}\n\nfunction containsRadio(value) {\n    if (value.tagName || value.nodeType) {\n        return false\n    }\n\n    var elems = toList(value)\n\n    return elems.some(function (elem) {\n        return elem.tagName === \"INPUT\" && elem.type === \"radio\"\n    })\n}\n\nfunction toList(value) {\n    if (Array.isArray(value)) {\n        return value\n    }\n\n    return Object.keys(value).map(prop, value)\n}\n\nfunction prop(x) {\n    return this[x]\n}\n\nfunction filterNull(val) {\n    return val !== null\n}\n","/* */ \nvar walk = require('dom-walk');\nvar FormData = require('./index');\nmodule.exports = getFormData;\nfunction buildElems(rootElem) {\n  var hash = {};\n  if (rootElem.name) {\n    hash[rootElem.name] = rootElem;\n  }\n  walk(rootElem, function(child) {\n    if (child.name) {\n      hash[child.name] = child;\n    }\n  });\n  return hash;\n}\nfunction getFormData(rootElem) {\n  var elements = buildElems(rootElem);\n  return FormData(elements);\n}\n","/* */ \nvar extend = require('xtend');\nvar getFormData = require('form-data-set/element');\nvar BaseEvent = require('./base-event');\nvar VALID_CHANGE = ['checkbox', 'file', 'select-multiple', 'select-one'];\nvar VALID_INPUT = ['color', 'date', 'datetime', 'datetime-local', 'email', 'month', 'number', 'password', 'range', 'search', 'tel', 'text', 'time', 'url', 'week'];\nmodule.exports = BaseEvent(changeLambda);\nfunction changeLambda(ev, broadcast) {\n  var target = ev.target;\n  var isValid = (ev.type === 'input' && VALID_INPUT.indexOf(target.type) !== -1) || (ev.type === 'change' && VALID_CHANGE.indexOf(target.type) !== -1);\n  if (!isValid) {\n    if (ev.startPropagation) {\n      ev.startPropagation();\n    }\n    return;\n  }\n  var value = getFormData(ev.currentTarget);\n  var data = extend(value, this.data);\n  broadcast(data);\n}\n","/* */ \nvar BaseEvent = require('./base-event');\nmodule.exports = BaseEvent(keyLambda);\nfunction keyLambda(ev, broadcast) {\n  var key = this.opts.key;\n  if (ev.keyCode === key) {\n    broadcast(this.data);\n  }\n}\n","/* */ \nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual\n\nfunction Individual(key, value) {\n    if (root[key]) {\n        return root[key]\n    }\n\n    Object.defineProperty(root, key, {\n        value: value\n        , configurable: true\n    })\n\n    return value\n}\n","module.exports = require(\"npm:individual@2.0.0/index\");","/* */ \n(function(process) {\n  (function(app) {\n    'use strict';\n    var namespace = 'cuid',\n        c = 0,\n        blockSize = 4,\n        base = 36,\n        discreteValues = Math.pow(base, blockSize),\n        pad = function pad(num, size) {\n          var s = \"000000000\" + num;\n          return s.substr(s.length - size);\n        },\n        randomBlock = function randomBlock() {\n          return pad((Math.random() * discreteValues << 0).toString(base), blockSize);\n        },\n        safeCounter = function() {\n          c = (c < discreteValues) ? c : 0;\n          c++;\n          return c - 1;\n        },\n        api = function cuid() {\n          var letter = 'c',\n              timestamp = (new Date().getTime()).toString(base),\n              counter,\n              fingerprint = api.fingerprint(),\n              random = randomBlock() + randomBlock();\n          counter = pad(safeCounter().toString(base), blockSize);\n          return (letter + timestamp + counter + fingerprint + random);\n        };\n    api.slug = function slug() {\n      var date = new Date().getTime().toString(36),\n          counter,\n          print = api.fingerprint().slice(0, 1) + api.fingerprint().slice(-1),\n          random = randomBlock().slice(-2);\n      counter = safeCounter().toString(36).slice(-4);\n      return date.slice(-2) + counter + print + random;\n    };\n    api.globalCount = function globalCount() {\n      var cache = (function calc() {\n        var i,\n            count = 0;\n        for (i in window) {\n          count++;\n        }\n        return count;\n      }());\n      api.globalCount = function() {\n        return cache;\n      };\n      return cache;\n    };\n    api.fingerprint = function browserPrint() {\n      return pad((navigator.mimeTypes.length + navigator.userAgent.length).toString(36) + api.globalCount().toString(36), 4);\n    };\n    if (app.register) {\n      app.register(namespace, api);\n    } else if (typeof module !== 'undefined') {\n      module.exports = api;\n    } else {\n      app[namespace] = api;\n    }\n  }(this.applitude || this));\n})(require('process'));\n","module.exports = require(\"npm:cuid@1.3.8/dist/browser-cuid.js\");","/* */ \nmodule.exports = hiddenStore;\n\nfunction hiddenStore(obj, key) {\n    var store = { identity: key };\n    var valueOf = obj.valueOf;\n\n    Object.defineProperty(obj, \"valueOf\", {\n        value: function (value) {\n            return value !== key ?\n                valueOf.apply(this, arguments) : store;\n        },\n        writable: true\n    });\n\n    return store;\n}\n","/* */ \nvar hiddenStore = require('./hidden-store');\nmodule.exports = createStore;\nfunction createStore() {\n  var key = {};\n  return function(obj) {\n    if ((typeof obj !== 'object' || obj === null) && typeof obj !== 'function') {\n      throw new Error('Weakmap-shim: Key must be object');\n    }\n    var store = obj.valueOf(key);\n    return store && store.identity === key ? store : hiddenStore(obj, key);\n  };\n}\n","/* */ \nvar EvStore = require(\"ev-store\")\n\nmodule.exports = addEvent\n\nfunction addEvent(target, type, handler) {\n    var events = EvStore(target)\n    var event = events[type]\n\n    if (!event) {\n        events[type] = handler\n    } else if (Array.isArray(event)) {\n        if (event.indexOf(handler) === -1) {\n            event.push(handler)\n        }\n    } else if (event !== handler) {\n        events[type] = [event, handler]\n    }\n}\n","/* */ \nvar EvStore = require(\"ev-store\")\n\nmodule.exports = removeEvent\n\nfunction removeEvent(target, type, handler) {\n    var events = EvStore(target)\n    var event = events[type]\n\n    if (!event) {\n        return\n    } else if (Array.isArray(event)) {\n        var index = event.indexOf(handler)\n        if (index !== -1) {\n            event.splice(index, 1)\n        }\n    } else if (event === handler) {\n        events[type] = null\n    }\n}\n","/* */ \nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = require(\"npm:inherits@2.0.1/inherits_browser.js\");","/* */ \nvar inherits = require(\"inherits\")\n\nvar ALL_PROPS = [\n    \"altKey\", \"bubbles\", \"cancelable\", \"ctrlKey\",\n    \"eventPhase\", \"metaKey\", \"relatedTarget\", \"shiftKey\",\n    \"target\", \"timeStamp\", \"type\", \"view\", \"which\"\n]\nvar KEY_PROPS = [\"char\", \"charCode\", \"key\", \"keyCode\"]\nvar MOUSE_PROPS = [\n    \"button\", \"buttons\", \"clientX\", \"clientY\", \"layerX\",\n    \"layerY\", \"offsetX\", \"offsetY\", \"pageX\", \"pageY\",\n    \"screenX\", \"screenY\", \"toElement\"\n]\n\nvar rkeyEvent = /^key|input/\nvar rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/\n\nmodule.exports = ProxyEvent\n\nfunction ProxyEvent(ev) {\n    if (!(this instanceof ProxyEvent)) {\n        return new ProxyEvent(ev)\n    }\n\n    if (rkeyEvent.test(ev.type)) {\n        return new KeyEvent(ev)\n    } else if (rmouseEvent.test(ev.type)) {\n        return new MouseEvent(ev)\n    }\n\n    for (var i = 0; i < ALL_PROPS.length; i++) {\n        var propKey = ALL_PROPS[i]\n        this[propKey] = ev[propKey]\n    }\n\n    this._rawEvent = ev\n    this._bubbles = false;\n}\n\nProxyEvent.prototype.preventDefault = function () {\n    this._rawEvent.preventDefault()\n}\n\nProxyEvent.prototype.startPropagation = function () {\n    this._bubbles = true;\n}\n\nfunction MouseEvent(ev) {\n    for (var i = 0; i < ALL_PROPS.length; i++) {\n        var propKey = ALL_PROPS[i]\n        this[propKey] = ev[propKey]\n    }\n\n    for (var j = 0; j < MOUSE_PROPS.length; j++) {\n        var mousePropKey = MOUSE_PROPS[j]\n        this[mousePropKey] = ev[mousePropKey]\n    }\n\n    this._rawEvent = ev\n}\n\ninherits(MouseEvent, ProxyEvent)\n\nfunction KeyEvent(ev) {\n    for (var i = 0; i < ALL_PROPS.length; i++) {\n        var propKey = ALL_PROPS[i]\n        this[propKey] = ev[propKey]\n    }\n\n    for (var j = 0; j < KEY_PROPS.length; j++) {\n        var keyPropKey = KEY_PROPS[j]\n        this[keyPropKey] = ev[keyPropKey]\n    }\n\n    this._rawEvent = ev\n}\n\ninherits(KeyEvent, ProxyEvent)\n","/* */ \nvar globalDocument = require('global/document');\nvar EvStore = require('ev-store');\nvar createStore = require('weakmap-shim/create-store');\nvar addEvent = require('./add-event');\nvar removeEvent = require('./remove-event');\nvar ProxyEvent = require('./proxy-event');\nvar HANDLER_STORE = createStore();\nmodule.exports = DOMDelegator;\nfunction DOMDelegator(document) {\n  if (!(this instanceof DOMDelegator)) {\n    return new DOMDelegator(document);\n  }\n  document = document || globalDocument;\n  this.target = document.documentElement;\n  this.events = {};\n  this.rawEventListeners = {};\n  this.globalListeners = {};\n}\nDOMDelegator.prototype.addEventListener = addEvent;\nDOMDelegator.prototype.removeEventListener = removeEvent;\nDOMDelegator.allocateHandle = function allocateHandle(func) {\n  var handle = new Handle();\n  HANDLER_STORE(handle).func = func;\n  return handle;\n};\nDOMDelegator.transformHandle = function transformHandle(handle, broadcast) {\n  var func = HANDLER_STORE(handle).func;\n  return this.allocateHandle(function(ev) {\n    broadcast(ev, func);\n  });\n};\nDOMDelegator.prototype.addGlobalEventListener = function addGlobalEventListener(eventName, fn) {\n  var listeners = this.globalListeners[eventName] || [];\n  if (listeners.indexOf(fn) === -1) {\n    listeners.push(fn);\n  }\n  this.globalListeners[eventName] = listeners;\n};\nDOMDelegator.prototype.removeGlobalEventListener = function removeGlobalEventListener(eventName, fn) {\n  var listeners = this.globalListeners[eventName] || [];\n  var index = listeners.indexOf(fn);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n};\nDOMDelegator.prototype.listenTo = function listenTo(eventName) {\n  if (!(eventName in this.events)) {\n    this.events[eventName] = 0;\n  }\n  this.events[eventName]++;\n  if (this.events[eventName] !== 1) {\n    return;\n  }\n  var listener = this.rawEventListeners[eventName];\n  if (!listener) {\n    listener = this.rawEventListeners[eventName] = createHandler(eventName, this);\n  }\n  this.target.addEventListener(eventName, listener, true);\n};\nDOMDelegator.prototype.unlistenTo = function unlistenTo(eventName) {\n  if (!(eventName in this.events)) {\n    this.events[eventName] = 0;\n  }\n  if (this.events[eventName] === 0) {\n    throw new Error(\"already unlistened to event.\");\n  }\n  this.events[eventName]--;\n  if (this.events[eventName] !== 0) {\n    return;\n  }\n  var listener = this.rawEventListeners[eventName];\n  if (!listener) {\n    throw new Error(\"dom-delegator#unlistenTo: cannot \" + \"unlisten to \" + eventName);\n  }\n  this.target.removeEventListener(eventName, listener, true);\n};\nfunction createHandler(eventName, delegator) {\n  var globalListeners = delegator.globalListeners;\n  var delegatorTarget = delegator.target;\n  return handler;\n  function handler(ev) {\n    var globalHandlers = globalListeners[eventName] || [];\n    if (globalHandlers.length > 0) {\n      var globalEvent = new ProxyEvent(ev);\n      globalEvent.currentTarget = delegatorTarget;\n      callListeners(globalHandlers, globalEvent);\n    }\n    findAndInvokeListeners(ev.target, ev, eventName);\n  }\n}\nfunction findAndInvokeListeners(elem, ev, eventName) {\n  var listener = getListener(elem, eventName);\n  if (listener && listener.handlers.length > 0) {\n    var listenerEvent = new ProxyEvent(ev);\n    listenerEvent.currentTarget = listener.currentTarget;\n    callListeners(listener.handlers, listenerEvent);\n    if (listenerEvent._bubbles) {\n      var nextTarget = listener.currentTarget.parentNode;\n      findAndInvokeListeners(nextTarget, ev, eventName);\n    }\n  }\n}\nfunction getListener(target, type) {\n  if (target === null || typeof target === \"undefined\") {\n    return null;\n  }\n  var events = EvStore(target);\n  var handler = events[type];\n  var allHandler = events.event;\n  if (!handler && !allHandler) {\n    return getListener(target.parentNode, type);\n  }\n  var handlers = [].concat(handler || [], allHandler || []);\n  return new Listener(target, handlers);\n}\nfunction callListeners(handlers, ev) {\n  handlers.forEach(function(handler) {\n    if (typeof handler === \"function\") {\n      handler(ev);\n    } else if (typeof handler.handleEvent === \"function\") {\n      handler.handleEvent(ev);\n    } else if (handler.type === \"dom-delegator-handle\") {\n      HANDLER_STORE(handler).func(ev);\n    } else {\n      throw new Error(\"dom-delegator: unknown handler \" + \"found: \" + JSON.stringify(handlers));\n    }\n  });\n}\nfunction Listener(target, handlers) {\n  this.currentTarget = target;\n  this.handlers = handlers;\n}\nfunction Handle() {\n  this.type = \"dom-delegator-handle\";\n}\n","/* */ \nvar Individual = require('individual');\nvar cuid = require('cuid');\nvar globalDocument = require('global/document');\nvar DOMDelegator = require('./dom-delegator');\nvar versionKey = \"13\";\nvar cacheKey = \"__DOM_DELEGATOR_CACHE@\" + versionKey;\nvar cacheTokenKey = \"__DOM_DELEGATOR_CACHE_TOKEN@\" + versionKey;\nvar delegatorCache = Individual(cacheKey, {delegators: {}});\nvar commonEvents = [\"blur\", \"change\", \"click\", \"contextmenu\", \"dblclick\", \"error\", \"focus\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keypress\", \"keyup\", \"load\", \"mousedown\", \"mouseup\", \"resize\", \"select\", \"submit\", \"touchcancel\", \"touchend\", \"touchstart\", \"unload\"];\nmodule.exports = Delegator;\nfunction Delegator(opts) {\n  opts = opts || {};\n  var document = opts.document || globalDocument;\n  var cacheKey = document[cacheTokenKey];\n  if (!cacheKey) {\n    cacheKey = document[cacheTokenKey] = cuid();\n  }\n  var delegator = delegatorCache.delegators[cacheKey];\n  if (!delegator) {\n    delegator = delegatorCache.delegators[cacheKey] = new DOMDelegator(document);\n  }\n  if (opts.defaultEvents !== false) {\n    for (var i = 0; i < commonEvents.length; i++) {\n      delegator.listenTo(commonEvents[i]);\n    }\n  }\n  return delegator;\n}\nDelegator.allocateHandle = DOMDelegator.allocateHandle;\nDelegator.transformHandle = DOMDelegator.transformHandle;\n","module.exports = require(\"npm:dom-delegator@13.1.0/index\");","/* */ \nvar Delegator = require('dom-delegator')\n\nmodule.exports = BaseEvent\n\nfunction BaseEvent(lambda) {\n    return EventHandler;\n\n    function EventHandler(fn, data, opts) {\n        var handler = {\n            fn: fn,\n            data: data !== undefined ? data : {},\n            opts: opts || {},\n            handleEvent: handleEvent\n        }\n\n        if (fn && fn.type === 'dom-delegator-handle') {\n            return Delegator.transformHandle(fn,\n                handleLambda.bind(handler))\n        }\n\n        return handler;\n    }\n\n    function handleLambda(ev, broadcast) {\n        if (this.opts.startPropagation && ev.startPropagation) {\n            ev.startPropagation();\n        }\n\n        return lambda.call(this, ev, broadcast)\n    }\n\n    function handleEvent(ev) {\n        var self = this\n\n        if (self.opts.startPropagation && ev.startPropagation) {\n            ev.startPropagation()\n        }\n\n        lambda.call(self, ev, broadcast)\n\n        function broadcast(value) {\n            if (typeof self.fn === 'function') {\n                self.fn(value)\n            } else {\n                self.fn.write(value)\n            }\n        }\n    }\n}\n","/* */ \nvar BaseEvent = require('./base-event');\nmodule.exports = BaseEvent(clickLambda);\nfunction clickLambda(ev, broadcast) {\n  var opts = this.opts;\n  if (!opts.ctrl && ev.ctrlKey) {\n    return;\n  }\n  if (!opts.meta && ev.metaKey) {\n    return;\n  }\n  if (!opts.rightClick && ev.which === 2) {\n    return;\n  }\n  if (this.opts.preventDefault && ev.preventDefault) {\n    ev.preventDefault();\n  }\n  broadcast(this.data);\n}\n","/* */ \nvar slice = Array.prototype.slice;\nvar addListener = require('./add-listener');\nvar setNonEnumerable = require('./lib/set-non-enumerable');\nmodule.exports = splice;\nfunction splice(index, amount) {\n  var obs = this;\n  var args = slice.call(arguments, 0);\n  var valueList = obs().slice();\n  var valueArgs = args.map(function(value, index) {\n    if (index === 0 || index === 1) {\n      return value;\n    }\n    return typeof value === \"function\" ? value() : value;\n  });\n  valueList.splice.apply(valueList, valueArgs);\n  var removed = obs._list.splice.apply(obs._list, args);\n  var extraRemoveListeners = args.slice(2).map(function(observ) {\n    return typeof observ === \"function\" ? addListener(obs, observ) : null;\n  });\n  extraRemoveListeners.unshift(args[0], args[1]);\n  var removedListeners = obs._removeListeners.splice.apply(obs._removeListeners, extraRemoveListeners);\n  removedListeners.forEach(function(removeObservListener) {\n    if (removeObservListener) {\n      removeObservListener();\n    }\n  });\n  setNonEnumerable(valueList, \"_diff\", [valueArgs]);\n  obs._observSet(valueList);\n  return removed;\n}\n","/* */ \nvar addListener = require('./add-listener');\nvar setNonEnumerable = require('./lib/set-non-enumerable');\nmodule.exports = put;\nfunction put(index, value) {\n  var obs = this;\n  var valueList = obs().slice();\n  var originalLength = valueList.length;\n  valueList[index] = typeof value === \"function\" ? value() : value;\n  obs._list[index] = value;\n  var removeListener = obs._removeListeners[index];\n  if (removeListener) {\n    removeListener();\n  }\n  obs._removeListeners[index] = typeof value === \"function\" ? addListener(obs, value) : null;\n  var valueArgs = index < originalLength ? [index, 1, valueList[index]] : [index, 0, valueList[index]];\n  setNonEnumerable(valueList, \"_diff\", [valueArgs]);\n  obs._observSet(valueList);\n  return value;\n}\n","/* */ \nfunction head (a) {\n  return a[0]\n}\n\nfunction last (a) {\n  return a[a.length - 1]\n}\n\nfunction tail(a) {\n  return a.slice(1)\n}\n\nfunction retreat (e) {\n  return e.pop()\n}\n\nfunction hasLength (e) {\n  return e.length\n}\n\nfunction any(ary, test) {\n  for(var i=0;i<ary.length;i++)\n    if(test(ary[i]))\n      return true\n  return false\n}\n\nfunction score (a) {\n  return a.reduce(function (s, a) {\n      return s + a.length + a[1] + 1\n  }, 0)\n}\n\nfunction best (a, b) {\n  return score(a) <= score(b) ? a : b\n}\n\n\nvar _rules // set at the bottom  \n\n// note, naive implementation. will break on circular objects.\n\nfunction _equal(a, b) {\n  if(a && !b) return false\n  if(Array.isArray(a))\n    if(a.length != b.length) return false\n  if(a && 'object' == typeof a) {\n    for(var i in a)\n      if(!_equal(a[i], b[i])) return false\n    for(var i in b)\n      if(!_equal(a[i], b[i])) return false\n    return true\n  }\n  return a == b\n}\n\nfunction getArgs(args) {\n  return args.length == 1 ? args[0] : [].slice.call(args)\n}\n\n// return the index of the element not like the others, or -1\nfunction oddElement(ary, cmp) {\n  var c\n  function guess(a) {\n    var odd = -1\n    c = 0\n    for (var i = a; i < ary.length; i ++) {\n      if(!cmp(ary[a], ary[i])) {\n        odd = i, c++\n      }\n    }\n    return c > 1 ? -1 : odd\n  }\n  //assume that it is the first element.\n  var g = guess(0)\n  if(-1 != g) return g\n  //0 was the odd one, then all the other elements are equal\n  //else there more than one different element\n  guess(1)\n  return c == 0 ? 0 : -1\n}\nvar exports = module.exports = function (deps, exports) {\n  var equal = (deps && deps.equal) || _equal\n  exports = exports || {} \n  exports.lcs = \n  function lcs() {\n    var cache = {}\n    var args = getArgs(arguments)\n    var a = args[0], b = args[1]\n\n    function key (a,b){\n      return a.length + ':' + b.length\n    }\n\n    //find length that matches at the head\n\n    if(args.length > 2) {\n      //if called with multiple sequences\n      //recurse, since lcs(a, b, c, d) == lcs(lcs(a,b), lcs(c,d))\n      args.push(lcs(args.shift(), args.shift()))\n      return lcs(args)\n    }\n    \n    //this would be improved by truncating input first\n    //and not returning an lcs as an intermediate step.\n    //untill that is a performance problem.\n\n    var start = 0, end = 0\n    for(var i = 0; i < a.length && i < b.length \n      && equal(a[i], b[i])\n      ; i ++\n    )\n      start = i + 1\n\n    if(a.length === start)\n      return a.slice()\n\n    for(var i = 0;  i < a.length - start && i < b.length - start\n      && equal(a[a.length - 1 - i], b[b.length - 1 - i])\n      ; i ++\n    )\n      end = i\n\n    function recurse (a, b) {\n      if(!a.length || !b.length) return []\n      //avoid exponential time by caching the results\n      if(cache[key(a, b)]) return cache[key(a, b)]\n\n      if(equal(a[0], b[0]))\n        return [head(a)].concat(recurse(tail(a), tail(b)))\n      else { \n        var _a = recurse(tail(a), b)\n        var _b = recurse(a, tail(b))\n        return cache[key(a,b)] = _a.length > _b.length ? _a : _b  \n      }\n    }\n    \n    var middleA = a.slice(start, a.length - end)\n    var middleB = b.slice(start, b.length - end)\n\n    return (\n      a.slice(0, start).concat(\n        recurse(middleA, middleB)\n      ).concat(a.slice(a.length - end))\n    )\n  }\n\n  // given n sequences, calc the lcs, and then chunk strings into stable and unstable sections.\n  // unstable chunks are passed to build\n  exports.chunk =\n  function (q, build) {\n    var q = q.map(function (e) { return e.slice() })\n    var lcs = exports.lcs.apply(null, q)\n    var all = [lcs].concat(q)\n\n    function matchLcs (e) {\n      if(e.length && !lcs.length || !e.length && lcs.length)\n        return false //incase the last item is null\n      return equal(last(e), last(lcs)) || ((e.length + lcs.length) === 0)\n    }\n\n    while(any(q, hasLength)) {\n      //if each element is at the lcs then this chunk is stable.\n      while(q.every(matchLcs) && q.every(hasLength))\n        all.forEach(retreat)\n      //collect the changes in each array upto the next match with the lcs\n      var c = false\n      var unstable = q.map(function (e) {\n        var change = []\n        while(!matchLcs(e)) {\n          change.unshift(retreat(e))\n          c = true\n        }\n        return change\n      })\n      if(c) build(q[0].length, unstable)\n    }\n  }\n\n  //calculate a diff this is only updates\n  exports.optimisticDiff =\n  function (a, b) {\n    var M = Math.max(a.length, b.length)\n    var m = Math.min(a.length, b.length)\n    var patch = []\n    for(var i = 0; i < M; i++)\n      if(a[i] !== b[i]) {\n        var cur = [i,0], deletes = 0\n        while(a[i] !== b[i] && i < m) {\n          cur[1] = ++deletes\n          cur.push(b[i++])\n        }\n        //the rest are deletes or inserts\n        if(i >= m) {\n          //the rest are deletes\n          if(a.length > b.length)\n            cur[1] += a.length - b.length\n          //the rest are inserts\n          else if(a.length < b.length)\n            cur = cur.concat(b.slice(a.length))\n        }\n        patch.push(cur)\n      }\n\n    return patch\n  }\n\n  exports.diff =\n  function (a, b) {\n    var optimistic = exports.optimisticDiff(a, b)\n    var changes = []\n    exports.chunk([a, b], function (index, unstable) {\n      var del = unstable.shift().length\n      var insert = unstable.shift()\n      changes.push([index, del].concat(insert))\n    })\n    return best(optimistic, changes)\n  }\n\n  exports.patch = function (a, changes, mutate) {\n    if(mutate !== true) a = a.slice(a)//copy a\n    changes.forEach(function (change) {\n      [].splice.apply(a, change)\n    })\n    return a\n  }\n\n  // http://en.wikipedia.org/wiki/Concestor\n  // me, concestor, you...\n  exports.merge = function () {\n    var args = getArgs(arguments)\n    var patch = exports.diff3(args)\n    return exports.patch(args[0], patch)\n  }\n\n  exports.diff3 = function () {\n    var args = getArgs(arguments)\n    var r = []\n    exports.chunk(args, function (index, unstable) {\n      var mine = unstable[0]\n      var insert = resolve(unstable)\n      if(equal(mine, insert)) return \n      r.push([index, mine.length].concat(insert)) \n    })\n    return r\n  }\n  exports.oddOneOut =\n    function oddOneOut (changes) {\n      changes = changes.slice()\n      //put the concestor first\n      changes.unshift(changes.splice(1,1)[0])\n      var i = oddElement(changes, equal)\n      if(i == 0) // concestor was different, 'false conflict'\n        return changes[1]\n      if (~i)\n        return changes[i] \n    }\n  exports.insertMergeOverDelete = \n    //i've implemented this as a seperate rule,\n    //because I had second thoughts about this.\n    function insertMergeOverDelete (changes) {\n      changes = changes.slice()\n      changes.splice(1,1)// remove concestor\n      \n      //if there is only one non empty change thats okay.\n      //else full confilct\n      for (var i = 0, nonempty; i < changes.length; i++)\n        if(changes[i].length) \n          if(!nonempty) nonempty = changes[i]\n          else return // full conflict\n      return nonempty\n    }\n\n  var rules = (deps && deps.rules) || [exports.oddOneOut, exports.insertMergeOverDelete]\n\n  function resolve (changes) {\n    var l = rules.length\n    for (var i in rules) { // first\n      \n      var c = rules[i] && rules[i](changes)\n      if(c) return c\n    }\n    changes.splice(1,1) // remove concestor\n    //returning the conflicts as an object is a really bad idea,\n    // because == will not detect they are the same. and conflicts build.\n    // better to use\n    // '<<<<<<<<<<<<<'\n    // of course, i wrote this before i started on snob, so i didn't know that then.\n    /*var conflict = ['>>>>>>>>>>>>>>>>']\n    while(changes.length)\n      conflict = conflict.concat(changes.shift()).concat('============')\n    conflict.pop()\n    conflict.push          ('<<<<<<<<<<<<<<<')\n    changes.unshift       ('>>>>>>>>>>>>>>>')\n    return conflict*/\n    //nah, better is just to use an equal can handle objects\n    return {'?': changes}\n  }\n  return exports\n}\nexports(null, exports)\n","module.exports = require(\"npm:adiff@0.2.13/index.js\");","/* */ \nvar applyPatch = require('./apply-patch');\nvar setNonEnumerable = require('./lib/set-non-enumerable');\nvar adiff = require('adiff');\nmodule.exports = set;\nfunction set(rawList) {\n  if (!Array.isArray(rawList))\n    rawList = [];\n  var obs = this;\n  var changes = adiff.diff(obs._list, rawList);\n  var valueList = obs().slice();\n  var valueChanges = changes.map(applyPatch.bind(obs, valueList));\n  setNonEnumerable(valueList, \"_diff\", valueChanges);\n  obs._observSet(valueList);\n  return changes;\n}\n","/* */ \nmodule.exports = transaction\n\nfunction transaction (func) {\n    var obs = this\n    var rawList = obs._list.slice()\n\n    if (func(rawList) !== false){ // allow cancel\n        return obs.set(rawList)\n    }\n\n}","/* */ \nvar applyPatch = require('./apply-patch');\nvar setNonEnumerable = require('./lib/set-non-enumerable');\nmodule.exports = reverse;\nfunction reverse() {\n  var obs = this;\n  var changes = fakeDiff(obs._list.slice().reverse());\n  var valueList = obs().slice().reverse();\n  var valueChanges = changes.map(applyPatch.bind(obs, valueList));\n  setNonEnumerable(valueList, \"_diff\", valueChanges);\n  obs._observSet(valueList);\n  return changes;\n}\nfunction fakeDiff(arr) {\n  var _diff;\n  var len = arr.length;\n  if (len % 2) {\n    var midPoint = (len - 1) / 2;\n    var a = [0, midPoint].concat(arr.slice(0, midPoint));\n    var b = [midPoint + 1, midPoint].concat(arr.slice(midPoint + 1, len));\n    var _diff = [a, b];\n  } else {\n    _diff = [[0, len].concat(arr)];\n  }\n  return _diff;\n}\n","/* */ \nvar addListener = require('./add-listener');\nmodule.exports = applyPatch;\nfunction applyPatch(valueList, args) {\n  var obs = this;\n  var valueArgs = args.map(unpack);\n  valueList.splice.apply(valueList, valueArgs);\n  obs._list.splice.apply(obs._list, args);\n  var extraRemoveListeners = args.slice(2).map(function(observ) {\n    return typeof observ === \"function\" ? addListener(obs, observ) : null;\n  });\n  extraRemoveListeners.unshift(args[0], args[1]);\n  var removedListeners = obs._removeListeners.splice.apply(obs._removeListeners, extraRemoveListeners);\n  removedListeners.forEach(function(removeObservListener) {\n    if (removeObservListener) {\n      removeObservListener();\n    }\n  });\n  return valueArgs;\n}\nfunction unpack(value, index) {\n  if (index === 0 || index === 1) {\n    return value;\n  }\n  return typeof value === \"function\" ? value() : value;\n}\n","/* */ \nvar applyPatch = require('./apply-patch');\nvar setNonEnumerable = require('./lib/set-non-enumerable');\nmodule.exports = sort;\nfunction sort(compare) {\n  var obs = this;\n  var list = obs._list.slice();\n  var unpacked = unpack(list);\n  var sorted = unpacked.map(function(it) {\n    return it.val;\n  }).sort(compare);\n  var packed = repack(sorted, unpacked);\n  var changes = [[0, packed.length].concat(packed)];\n  var valueChanges = changes.map(applyPatch.bind(obs, sorted));\n  setNonEnumerable(sorted, \"_diff\", valueChanges);\n  obs._observSet(sorted);\n  return changes;\n}\nfunction unpack(list) {\n  var unpacked = [];\n  for (var i = 0; i < list.length; i++) {\n    unpacked.push({\n      val: (\"function\" == typeof list[i]) ? list[i]() : list[i],\n      obj: list[i]\n    });\n  }\n  return unpacked;\n}\nfunction repack(sorted, unpacked) {\n  var packed = [];\n  while (sorted.length) {\n    var s = sorted.shift();\n    var indx = indexOf(s, unpacked);\n    if (~indx)\n      packed.push(unpacked.splice(indx, 1)[0].obj);\n  }\n  return packed;\n}\nfunction indexOf(n, h) {\n  for (var i = 0; i < h.length; i++) {\n    if (n === h[i].val)\n      return i;\n  }\n  return -1;\n}\n","/* */ \nvar ObservArray = require('./index');\nvar slice = Array.prototype.slice;\nvar ARRAY_METHODS = [\"concat\", \"slice\", \"every\", \"filter\", \"forEach\", \"indexOf\", \"join\", \"lastIndexOf\", \"map\", \"reduce\", \"reduceRight\", \"some\", \"toString\", \"toLocaleString\"];\nvar methods = ARRAY_METHODS.map(function(name) {\n  return [name, function() {\n    var res = this._list[name].apply(this._list, arguments);\n    if (res && Array.isArray(res)) {\n      res = ObservArray(res);\n    }\n    return res;\n  }];\n});\nmodule.exports = ArrayMethods;\nfunction ArrayMethods(obs) {\n  obs.push = observArrayPush;\n  obs.pop = observArrayPop;\n  obs.shift = observArrayShift;\n  obs.unshift = observArrayUnshift;\n  obs.reverse = require('./array-reverse');\n  obs.sort = require('./array-sort');\n  methods.forEach(function(tuple) {\n    obs[tuple[0]] = tuple[1];\n  });\n  return obs;\n}\nfunction observArrayPush() {\n  var args = slice.call(arguments);\n  args.unshift(this._list.length, 0);\n  this.splice.apply(this, args);\n  return this._list.length;\n}\nfunction observArrayPop() {\n  return this.splice(this._list.length - 1, 1)[0];\n}\nfunction observArrayShift() {\n  return this.splice(0, 1)[0];\n}\nfunction observArrayUnshift() {\n  var args = slice.call(arguments);\n  args.unshift(0, 0);\n  this.splice.apply(this, args);\n  return this._list.length;\n}\nfunction notImplemented() {\n  throw new Error(\"Pull request welcome\");\n}\n","/* */ \nmodule.exports = setNonEnumerable;\n\nfunction setNonEnumerable(object, key, value) {\n    Object.defineProperty(object, key, {\n        value: value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n    });\n}\n","/* */ \nvar setNonEnumerable = require('./lib/set-non-enumerable');\nmodule.exports = addListener;\nfunction addListener(observArray, observ) {\n  var list = observArray._list;\n  return observ(function(value) {\n    var valueList = observArray().slice();\n    var index = list.indexOf(observ);\n    if (index === -1) {\n      var message = \"observ-array: Unremoved observ listener\";\n      var err = new Error(message);\n      err.list = list;\n      err.index = index;\n      err.observ = observ;\n      throw err;\n    }\n    valueList.splice(index, 1, value);\n    setNonEnumerable(valueList, \"_diff\", [[index, 1, value]]);\n    observArray._observSet(valueList);\n  });\n}\n","/* */ \nvar Observ = require('observ');\nmodule.exports = ObservArray;\nvar splice = require('./splice');\nvar put = require('./put');\nvar set = require('./set');\nvar transaction = require('./transaction');\nvar ArrayMethods = require('./array-methods');\nvar addListener = require('./add-listener');\nfunction ObservArray(initialList) {\n  var list = initialList;\n  var initialState = [];\n  list.forEach(function(observ, index) {\n    initialState[index] = typeof observ === \"function\" ? observ() : observ;\n  });\n  var obs = Observ(initialState);\n  obs.splice = splice;\n  obs._observSet = obs.set;\n  obs.set = set;\n  obs.get = get;\n  obs.getLength = getLength;\n  obs.put = put;\n  obs.transaction = transaction;\n  obs._list = list;\n  var removeListeners = list.map(function(observ) {\n    return typeof observ === \"function\" ? addListener(obs, observ) : null;\n  });\n  obs._removeListeners = removeListeners;\n  obs._type = \"observ-array\";\n  obs._version = \"3\";\n  return ArrayMethods(obs, list);\n}\nfunction get(index) {\n  return this._list[index];\n}\nfunction getLength() {\n  return this._list.length;\n}\n","module.exports = require(\"npm:observ-array@3.2.1/index\");","/* */ \nvar Observ = require(\"observ\")\nvar extend = require(\"xtend\")\n\nvar blackList = [\"name\", \"_diff\", \"_type\", \"_version\"]\nvar blackListReasons = {\n    \"name\": \"Clashes with `Function.prototype.name`.\\n\",\n    \"_diff\": \"_diff is reserved key of observ-struct.\\n\",\n    \"_type\": \"_type is reserved key of observ-struct.\\n\",\n    \"_version\": \"_version is reserved key of observ-struct.\\n\"\n}\nvar NO_TRANSACTION = {}\n\nfunction setNonEnumerable(object, key, value) {\n    Object.defineProperty(object, key, {\n        value: value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n    })\n}\n\n/* ObservStruct := (Object<String, Observ<T>>) => \n    Object<String, Observ<T>> &\n        Observ<Object<String, T> & {\n            _diff: Object<String, Any>\n        }>\n\n*/\nmodule.exports = ObservStruct\n\nfunction ObservStruct(struct) {\n    var keys = Object.keys(struct)\n\n    var initialState = {}\n    var currentTransaction = NO_TRANSACTION\n    var nestedTransaction = NO_TRANSACTION\n\n    keys.forEach(function (key) {\n        if (blackList.indexOf(key) !== -1) {\n            throw new Error(\"cannot create an observ-struct \" +\n                \"with a key named '\" + key + \"'.\\n\" +\n                blackListReasons[key]);\n        }\n\n        var observ = struct[key]\n        initialState[key] = typeof observ === \"function\" ?\n            observ() : observ\n    })\n\n    var obs = Observ(initialState)\n    keys.forEach(function (key) {\n        var observ = struct[key]\n        obs[key] = observ\n\n        if (typeof observ === \"function\") {\n            observ(function (value) {\n                if (nestedTransaction === value) {\n                    return\n                }\n\n                var state = extend(obs())\n                state[key] = value\n                var diff = {}\n                diff[key] = value && value._diff ?\n                    value._diff : value\n\n                setNonEnumerable(state, \"_diff\", diff)\n                currentTransaction = state\n                obs.set(state)\n                currentTransaction = NO_TRANSACTION\n            })\n        }\n    })\n    var _set = obs.set\n    obs.set = function trackDiff(value) {\n        if (currentTransaction === value) {\n            return _set(value)\n        }\n\n        var newState = extend(value)\n        setNonEnumerable(newState, \"_diff\", value)\n        _set(newState)\n    }\n\n    obs(function (newState) {\n        if (currentTransaction === newState) {\n            return\n        }\n\n        keys.forEach(function (key) {\n            var observ = struct[key]\n            var newObservValue = newState[key]\n\n            if (typeof observ === \"function\" &&\n                observ() !== newObservValue\n            ) {\n                nestedTransaction = newObservValue\n                observ.set(newState[key])\n                nestedTransaction = NO_TRANSACTION\n            }\n        })\n    })\n\n    obs._type = \"observ-struct\"\n    obs._version = \"5\"\n\n    return obs\n}\n","module.exports = require(\"npm:observ-struct@5.0.1/index\");","/* */ \nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","module.exports = require(\"npm:xtend@3.0.0/index\");","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = require(\"npm:process@0.11.3/browser.js\");","module.exports = System._nodeRequire ? process : require('process');","module.exports = require(\"github:jspm/nodelibs-process@0.1.2/index\");","/* */ \n(function(process) {\n  var Observ = require('observ');\n  var extend = require('xtend');\n  var NO_TRANSACTION = {};\n  module.exports = ObservVarhash;\n  function ObservVarhash(hash, createValue) {\n    createValue = createValue || function(obj) {\n      return obj;\n    };\n    var initialState = {};\n    var currentTransaction = NO_TRANSACTION;\n    var nestedTransaction = NO_TRANSACTION;\n    var obs = Observ(initialState);\n    setNonEnumerable(obs, '_removeListeners', {});\n    setNonEnumerable(obs, 'get', get.bind(obs));\n    setNonEnumerable(obs, 'put', put.bind(obs));\n    setNonEnumerable(obs, 'delete', del.bind(obs));\n    for (var key in hash) {\n      obs[key] = isFn(hash[key]) ? hash[key] : createValue(hash[key], key);\n      if (isFn(obs[key])) {\n        obs._removeListeners[key] = obs[key](watch(obs, key));\n      }\n    }\n    var _set = obs.set;\n    obs.set = function trackDiff(value) {\n      if (currentTransaction === value) {\n        return _set(value);\n      }\n      var newState = extend(value);\n      setNonEnumerable(newState, '_diff', value);\n      _set(newState);\n    };\n    setNonEnumerable(obs, 'set', obs.set);\n    var newState = {};\n    for (key in hash) {\n      var observ = obs[key];\n      checkKey(key);\n      newState[key] = isFn(observ) ? observ() : observ;\n    }\n    obs.set(newState);\n    obs(function(newState) {\n      if (currentTransaction === newState) {\n        return;\n      }\n      for (var key in hash) {\n        var observ = hash[key];\n        var newObservValue = newState[key];\n        if (isFn(observ) && observ() !== newState[key]) {\n          nestedTransaction = newObservValue;\n          observ.set(newState[key]);\n          nestedTransaction = NO_TRANSACTION;\n        }\n      }\n    });\n    function put(key, val) {\n      checkKey(key);\n      if (val === undefined) {\n        throw new Error('cannot varhash.put(key, undefined).');\n      }\n      var observ = isFn(val) ? val : createValue(val, key);\n      var state = extend(this());\n      state[key] = isFn(observ) ? observ() : observ;\n      if (isFn(this._removeListeners[key])) {\n        this._removeListeners[key]();\n      }\n      this._removeListeners[key] = isFn(observ) ? observ(watch(this, key)) : null;\n      setNonEnumerable(state, '_diff', diff(key, state[key]));\n      this[key] = observ;\n      currentTransaction = state;\n      _set(state);\n      currentTransaction = NO_TRANSACTION;\n      return this;\n    }\n    function del(key) {\n      var state = extend(this());\n      if (isFn(this._removeListeners[key])) {\n        this._removeListeners[key]();\n      }\n      delete this._removeListeners[key];\n      delete state[key];\n      delete this[key];\n      setNonEnumerable(state, '_diff', diff(key, undefined));\n      _set(state);\n      return this;\n    }\n    return obs;\n    function watch(obs, key) {\n      return function(value) {\n        if (nestedTransaction === value) {\n          return;\n        }\n        var state = extend(obs());\n        state[key] = value;\n        setNonEnumerable(state, '_diff', diff(key, value));\n        currentTransaction = state;\n        obs.set(state);\n        currentTransaction = NO_TRANSACTION;\n      };\n    }\n  }\n  function get(key) {\n    return this[key];\n  }\n  function diff(key, value) {\n    var obj = {};\n    obj[key] = value && value._diff ? value._diff : value;\n    return obj;\n  }\n  function isFn(obj) {\n    return typeof obj === 'function';\n  }\n  function setNonEnumerable(object, key, value) {\n    Object.defineProperty(object, key, {\n      value: value,\n      writable: true,\n      configurable: true,\n      enumerable: false\n    });\n  }\n  var blacklist = {\n    name: 'Clashes with `Function.prototype.name`.',\n    get: 'get is a reserved key of observ-varhash method',\n    put: 'put is a reserved key of observ-varhash method',\n    'delete': 'delete is a reserved key of observ-varhash method',\n    _diff: '_diff is a reserved key of observ-varhash method',\n    _removeListeners: '_removeListeners is a reserved key of observ-varhash'\n  };\n  function checkKey(key) {\n    if (!blacklist[key])\n      return;\n    throw new Error('cannot create an observ-varhash with key `' + key + '`. ' + blacklist[key]);\n  }\n})(require('process'));\n","module.exports = require(\"npm:observ-varhash@1.0.8/index\");","module.exports = require(\"npm:observ@0.2.0/index\");","/* */ \nvar isObject = require('is-object');\nvar isHook = require('../vnode/is-vhook');\nmodule.exports = diffProps;\nfunction diffProps(a, b) {\n  var diff;\n  for (var aKey in a) {\n    if (!(aKey in b)) {\n      diff = diff || {};\n      diff[aKey] = undefined;\n    }\n    var aValue = a[aKey];\n    var bValue = b[aKey];\n    if (aValue === bValue) {\n      continue;\n    } else if (isObject(aValue) && isObject(bValue)) {\n      if (getPrototype(bValue) !== getPrototype(aValue)) {\n        diff = diff || {};\n        diff[aKey] = bValue;\n      } else if (isHook(bValue)) {\n        diff = diff || {};\n        diff[aKey] = bValue;\n      } else {\n        var objectDiff = diffProps(aValue, bValue);\n        if (objectDiff) {\n          diff = diff || {};\n          diff[aKey] = objectDiff;\n        }\n      }\n    } else {\n      diff = diff || {};\n      diff[aKey] = bValue;\n    }\n  }\n  for (var bKey in b) {\n    if (!(bKey in a)) {\n      diff = diff || {};\n      diff[bKey] = b[bKey];\n    }\n  }\n  return diff;\n}\nfunction getPrototype(value) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(value);\n  } else if (value.__proto__) {\n    return value.__proto__;\n  } else if (value.constructor) {\n    return value.constructor.prototype;\n  }\n}\n","/* */ \nvar isArray = require('x-is-array');\nvar VPatch = require('../vnode/vpatch');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isThunk = require('../vnode/is-thunk');\nvar handleThunk = require('../vnode/handle-thunk');\nvar diffProps = require('./diff-props');\nmodule.exports = diff;\nfunction diff(a, b) {\n  var patch = {a: a};\n  walk(a, b, patch, 0);\n  return patch;\n}\nfunction walk(a, b, patch, index) {\n  if (a === b) {\n    return;\n  }\n  var apply = patch[index];\n  var applyClear = false;\n  if (isThunk(a) || isThunk(b)) {\n    thunks(a, b, patch, index);\n  } else if (b == null) {\n    if (!isWidget(a)) {\n      clearState(a, patch, index);\n      apply = patch[index];\n    }\n    apply = appendPatch(apply, new VPatch(VPatch.REMOVE, a, b));\n  } else if (isVNode(b)) {\n    if (isVNode(a)) {\n      if (a.tagName === b.tagName && a.namespace === b.namespace && a.key === b.key) {\n        var propsPatch = diffProps(a.properties, b.properties);\n        if (propsPatch) {\n          apply = appendPatch(apply, new VPatch(VPatch.PROPS, a, propsPatch));\n        }\n        apply = diffChildren(a, b, patch, apply, index);\n      } else {\n        apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b));\n        applyClear = true;\n      }\n    } else {\n      apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b));\n      applyClear = true;\n    }\n  } else if (isVText(b)) {\n    if (!isVText(a)) {\n      apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b));\n      applyClear = true;\n    } else if (a.text !== b.text) {\n      apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b));\n    }\n  } else if (isWidget(b)) {\n    if (!isWidget(a)) {\n      applyClear = true;\n    }\n    apply = appendPatch(apply, new VPatch(VPatch.WIDGET, a, b));\n  }\n  if (apply) {\n    patch[index] = apply;\n  }\n  if (applyClear) {\n    clearState(a, patch, index);\n  }\n}\nfunction diffChildren(a, b, patch, apply, index) {\n  var aChildren = a.children;\n  var orderedSet = reorder(aChildren, b.children);\n  var bChildren = orderedSet.children;\n  var aLen = aChildren.length;\n  var bLen = bChildren.length;\n  var len = aLen > bLen ? aLen : bLen;\n  for (var i = 0; i < len; i++) {\n    var leftNode = aChildren[i];\n    var rightNode = bChildren[i];\n    index += 1;\n    if (!leftNode) {\n      if (rightNode) {\n        apply = appendPatch(apply, new VPatch(VPatch.INSERT, null, rightNode));\n      }\n    } else {\n      walk(leftNode, rightNode, patch, index);\n    }\n    if (isVNode(leftNode) && leftNode.count) {\n      index += leftNode.count;\n    }\n  }\n  if (orderedSet.moves) {\n    apply = appendPatch(apply, new VPatch(VPatch.ORDER, a, orderedSet.moves));\n  }\n  return apply;\n}\nfunction clearState(vNode, patch, index) {\n  unhook(vNode, patch, index);\n  destroyWidgets(vNode, patch, index);\n}\nfunction destroyWidgets(vNode, patch, index) {\n  if (isWidget(vNode)) {\n    if (typeof vNode.destroy === \"function\") {\n      patch[index] = appendPatch(patch[index], new VPatch(VPatch.REMOVE, vNode, null));\n    }\n  } else if (isVNode(vNode) && (vNode.hasWidgets || vNode.hasThunks)) {\n    var children = vNode.children;\n    var len = children.length;\n    for (var i = 0; i < len; i++) {\n      var child = children[i];\n      index += 1;\n      destroyWidgets(child, patch, index);\n      if (isVNode(child) && child.count) {\n        index += child.count;\n      }\n    }\n  } else if (isThunk(vNode)) {\n    thunks(vNode, null, patch, index);\n  }\n}\nfunction thunks(a, b, patch, index) {\n  var nodes = handleThunk(a, b);\n  var thunkPatch = diff(nodes.a, nodes.b);\n  if (hasPatches(thunkPatch)) {\n    patch[index] = new VPatch(VPatch.THUNK, null, thunkPatch);\n  }\n}\nfunction hasPatches(patch) {\n  for (var index in patch) {\n    if (index !== \"a\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction unhook(vNode, patch, index) {\n  if (isVNode(vNode)) {\n    if (vNode.hooks) {\n      patch[index] = appendPatch(patch[index], new VPatch(VPatch.PROPS, vNode, undefinedKeys(vNode.hooks)));\n    }\n    if (vNode.descendantHooks || vNode.hasThunks) {\n      var children = vNode.children;\n      var len = children.length;\n      for (var i = 0; i < len; i++) {\n        var child = children[i];\n        index += 1;\n        unhook(child, patch, index);\n        if (isVNode(child) && child.count) {\n          index += child.count;\n        }\n      }\n    }\n  } else if (isThunk(vNode)) {\n    thunks(vNode, null, patch, index);\n  }\n}\nfunction undefinedKeys(obj) {\n  var result = {};\n  for (var key in obj) {\n    result[key] = undefined;\n  }\n  return result;\n}\nfunction reorder(aChildren, bChildren) {\n  var bChildIndex = keyIndex(bChildren);\n  var bKeys = bChildIndex.keys;\n  var bFree = bChildIndex.free;\n  if (bFree.length === bChildren.length) {\n    return {\n      children: bChildren,\n      moves: null\n    };\n  }\n  var aChildIndex = keyIndex(aChildren);\n  var aKeys = aChildIndex.keys;\n  var aFree = aChildIndex.free;\n  if (aFree.length === aChildren.length) {\n    return {\n      children: bChildren,\n      moves: null\n    };\n  }\n  var newChildren = [];\n  var freeIndex = 0;\n  var freeCount = bFree.length;\n  var deletedItems = 0;\n  for (var i = 0; i < aChildren.length; i++) {\n    var aItem = aChildren[i];\n    var itemIndex;\n    if (aItem.key) {\n      if (bKeys.hasOwnProperty(aItem.key)) {\n        itemIndex = bKeys[aItem.key];\n        newChildren.push(bChildren[itemIndex]);\n      } else {\n        itemIndex = i - deletedItems++;\n        newChildren.push(null);\n      }\n    } else {\n      if (freeIndex < freeCount) {\n        itemIndex = bFree[freeIndex++];\n        newChildren.push(bChildren[itemIndex]);\n      } else {\n        itemIndex = i - deletedItems++;\n        newChildren.push(null);\n      }\n    }\n  }\n  var lastFreeIndex = freeIndex >= bFree.length ? bChildren.length : bFree[freeIndex];\n  for (var j = 0; j < bChildren.length; j++) {\n    var newItem = bChildren[j];\n    if (newItem.key) {\n      if (!aKeys.hasOwnProperty(newItem.key)) {\n        newChildren.push(newItem);\n      }\n    } else if (j >= lastFreeIndex) {\n      newChildren.push(newItem);\n    }\n  }\n  var simulate = newChildren.slice();\n  var simulateIndex = 0;\n  var removes = [];\n  var inserts = [];\n  var simulateItem;\n  for (var k = 0; k < bChildren.length; ) {\n    var wantedItem = bChildren[k];\n    simulateItem = simulate[simulateIndex];\n    while (simulateItem === null && simulate.length) {\n      removes.push(remove(simulate, simulateIndex, null));\n      simulateItem = simulate[simulateIndex];\n    }\n    if (!simulateItem || simulateItem.key !== wantedItem.key) {\n      if (wantedItem.key) {\n        if (simulateItem && simulateItem.key) {\n          if (bKeys[simulateItem.key] !== k + 1) {\n            removes.push(remove(simulate, simulateIndex, simulateItem.key));\n            simulateItem = simulate[simulateIndex];\n            if (!simulateItem || simulateItem.key !== wantedItem.key) {\n              inserts.push({\n                key: wantedItem.key,\n                to: k\n              });\n            } else {\n              simulateIndex++;\n            }\n          } else {\n            inserts.push({\n              key: wantedItem.key,\n              to: k\n            });\n          }\n        } else {\n          inserts.push({\n            key: wantedItem.key,\n            to: k\n          });\n        }\n        k++;\n      } else if (simulateItem && simulateItem.key) {\n        removes.push(remove(simulate, simulateIndex, simulateItem.key));\n      }\n    } else {\n      simulateIndex++;\n      k++;\n    }\n  }\n  while (simulateIndex < simulate.length) {\n    simulateItem = simulate[simulateIndex];\n    removes.push(remove(simulate, simulateIndex, simulateItem && simulateItem.key));\n  }\n  if (removes.length === deletedItems && !inserts.length) {\n    return {\n      children: newChildren,\n      moves: null\n    };\n  }\n  return {\n    children: newChildren,\n    moves: {\n      removes: removes,\n      inserts: inserts\n    }\n  };\n}\nfunction remove(arr, index, key) {\n  arr.splice(index, 1);\n  return {\n    from: index,\n    key: key\n  };\n}\nfunction keyIndex(children) {\n  var keys = {};\n  var free = [];\n  var length = children.length;\n  for (var i = 0; i < length; i++) {\n    var child = children[i];\n    if (child.key) {\n      keys[child.key] = i;\n    } else {\n      free.push(i);\n    }\n  }\n  return {\n    keys: keys,\n    free: free\n  };\n}\nfunction appendPatch(apply, patch) {\n  if (apply) {\n    if (isArray(apply)) {\n      apply.push(patch);\n    } else {\n      apply = [apply, patch];\n    }\n    return apply;\n  } else {\n    return patch;\n  }\n}\n","// Maps a virtual DOM tree onto a real DOM tree in an efficient manner.\n// We don't want to read all of the DOM nodes in the tree so we use\n// the in-order tree indexing to eliminate recursion down certain branches.\n// We only recurse into a DOM node if we know that it contains a child of\n// interest.\n\nvar noChild = {}\n\nmodule.exports = domIndex\n\nfunction domIndex(rootNode, tree, indices, nodes) {\n    if (!indices || indices.length === 0) {\n        return {}\n    } else {\n        indices.sort(ascending)\n        return recurse(rootNode, tree, indices, nodes, 0)\n    }\n}\n\nfunction recurse(rootNode, tree, indices, nodes, rootIndex) {\n    nodes = nodes || {}\n\n\n    if (rootNode) {\n        if (indexInRange(indices, rootIndex, rootIndex)) {\n            nodes[rootIndex] = rootNode\n        }\n\n        var vChildren = tree.children\n\n        if (vChildren) {\n\n            var childNodes = rootNode.childNodes\n\n            for (var i = 0; i < tree.children.length; i++) {\n                rootIndex += 1\n\n                var vChild = vChildren[i] || noChild\n                var nextIndex = rootIndex + (vChild.count || 0)\n\n                // skip recursion down the tree if there are no nodes down here\n                if (indexInRange(indices, rootIndex, nextIndex)) {\n                    recurse(childNodes[i], vChild, indices, nodes, rootIndex)\n                }\n\n                rootIndex = nextIndex\n            }\n        }\n    }\n\n    return nodes\n}\n\n// Binary search for an index in the interval [left, right]\nfunction indexInRange(indices, left, right) {\n    if (indices.length === 0) {\n        return false\n    }\n\n    var minIndex = 0\n    var maxIndex = indices.length - 1\n    var currentIndex\n    var currentItem\n\n    while (minIndex <= maxIndex) {\n        currentIndex = ((maxIndex + minIndex) / 2) >> 0\n        currentItem = indices[currentIndex]\n\n        if (minIndex === maxIndex) {\n            return currentItem >= left && currentItem <= right\n        } else if (currentItem < left) {\n            minIndex = currentIndex + 1\n        } else  if (currentItem > right) {\n            maxIndex = currentIndex - 1\n        } else {\n            return true\n        }\n    }\n\n    return false;\n}\n\nfunction ascending(a, b) {\n    return a > b ? 1 : -1\n}\n","/* */ \nvar version = require('./version');\nVirtualPatch.NONE = 0;\nVirtualPatch.VTEXT = 1;\nVirtualPatch.VNODE = 2;\nVirtualPatch.WIDGET = 3;\nVirtualPatch.PROPS = 4;\nVirtualPatch.ORDER = 5;\nVirtualPatch.INSERT = 6;\nVirtualPatch.REMOVE = 7;\nVirtualPatch.THUNK = 8;\nmodule.exports = VirtualPatch;\nfunction VirtualPatch(type, vNode, patch) {\n  this.type = Number(type);\n  this.vNode = vNode;\n  this.patch = patch;\n}\nVirtualPatch.prototype.version = version;\nVirtualPatch.prototype.type = \"VirtualPatch\";\n","/* */ \nvar isWidget = require('../vnode/is-widget');\nmodule.exports = updateWidget;\nfunction updateWidget(a, b) {\n  if (isWidget(a) && isWidget(b)) {\n    if (\"name\" in a && \"name\" in b) {\n      return a.id === b.id;\n    } else {\n      return a.init === b.init;\n    }\n  }\n  return false;\n}\n","/* */ \nvar applyProperties = require('./apply-properties');\nvar isWidget = require('../vnode/is-widget');\nvar VPatch = require('../vnode/vpatch');\nvar updateWidget = require('./update-widget');\nmodule.exports = applyPatch;\nfunction applyPatch(vpatch, domNode, renderOptions) {\n  var type = vpatch.type;\n  var vNode = vpatch.vNode;\n  var patch = vpatch.patch;\n  switch (type) {\n    case VPatch.REMOVE:\n      return removeNode(domNode, vNode);\n    case VPatch.INSERT:\n      return insertNode(domNode, patch, renderOptions);\n    case VPatch.VTEXT:\n      return stringPatch(domNode, vNode, patch, renderOptions);\n    case VPatch.WIDGET:\n      return widgetPatch(domNode, vNode, patch, renderOptions);\n    case VPatch.VNODE:\n      return vNodePatch(domNode, vNode, patch, renderOptions);\n    case VPatch.ORDER:\n      reorderChildren(domNode, patch);\n      return domNode;\n    case VPatch.PROPS:\n      applyProperties(domNode, patch, vNode.properties);\n      return domNode;\n    case VPatch.THUNK:\n      return replaceRoot(domNode, renderOptions.patch(domNode, patch, renderOptions));\n    default:\n      return domNode;\n  }\n}\nfunction removeNode(domNode, vNode) {\n  var parentNode = domNode.parentNode;\n  if (parentNode) {\n    parentNode.removeChild(domNode);\n  }\n  destroyWidget(domNode, vNode);\n  return null;\n}\nfunction insertNode(parentNode, vNode, renderOptions) {\n  var newNode = renderOptions.render(vNode, renderOptions);\n  if (parentNode) {\n    parentNode.appendChild(newNode);\n  }\n  return parentNode;\n}\nfunction stringPatch(domNode, leftVNode, vText, renderOptions) {\n  var newNode;\n  if (domNode.nodeType === 3) {\n    domNode.replaceData(0, domNode.length, vText.text);\n    newNode = domNode;\n  } else {\n    var parentNode = domNode.parentNode;\n    newNode = renderOptions.render(vText, renderOptions);\n    if (parentNode && newNode !== domNode) {\n      parentNode.replaceChild(newNode, domNode);\n    }\n  }\n  return newNode;\n}\nfunction widgetPatch(domNode, leftVNode, widget, renderOptions) {\n  var updating = updateWidget(leftVNode, widget);\n  var newNode;\n  if (updating) {\n    newNode = widget.update(leftVNode, domNode) || domNode;\n  } else {\n    newNode = renderOptions.render(widget, renderOptions);\n  }\n  var parentNode = domNode.parentNode;\n  if (parentNode && newNode !== domNode) {\n    parentNode.replaceChild(newNode, domNode);\n  }\n  if (!updating) {\n    destroyWidget(domNode, leftVNode);\n  }\n  return newNode;\n}\nfunction vNodePatch(domNode, leftVNode, vNode, renderOptions) {\n  var parentNode = domNode.parentNode;\n  var newNode = renderOptions.render(vNode, renderOptions);\n  if (parentNode && newNode !== domNode) {\n    parentNode.replaceChild(newNode, domNode);\n  }\n  return newNode;\n}\nfunction destroyWidget(domNode, w) {\n  if (typeof w.destroy === \"function\" && isWidget(w)) {\n    w.destroy(domNode);\n  }\n}\nfunction reorderChildren(domNode, moves) {\n  var childNodes = domNode.childNodes;\n  var keyMap = {};\n  var node;\n  var remove;\n  var insert;\n  for (var i = 0; i < moves.removes.length; i++) {\n    remove = moves.removes[i];\n    node = childNodes[remove.from];\n    if (remove.key) {\n      keyMap[remove.key] = node;\n    }\n    domNode.removeChild(node);\n  }\n  var length = childNodes.length;\n  for (var j = 0; j < moves.inserts.length; j++) {\n    insert = moves.inserts[j];\n    node = keyMap[insert.key];\n    domNode.insertBefore(node, insert.to >= length++ ? null : childNodes[insert.to]);\n  }\n}\nfunction replaceRoot(oldRoot, newRoot) {\n  if (oldRoot && newRoot && oldRoot !== newRoot && oldRoot.parentNode) {\n    oldRoot.parentNode.replaceChild(newRoot, oldRoot);\n  }\n  return newRoot;\n}\n","/* */ \nvar document = require('global/document');\nvar isArray = require('x-is-array');\nvar render = require('./create-element');\nvar domIndex = require('./dom-index');\nvar patchOp = require('./patch-op');\nmodule.exports = patch;\nfunction patch(rootNode, patches, renderOptions) {\n  renderOptions = renderOptions || {};\n  renderOptions.patch = renderOptions.patch && renderOptions.patch !== patch ? renderOptions.patch : patchRecursive;\n  renderOptions.render = renderOptions.render || render;\n  return renderOptions.patch(rootNode, patches, renderOptions);\n}\nfunction patchRecursive(rootNode, patches, renderOptions) {\n  var indices = patchIndices(patches);\n  if (indices.length === 0) {\n    return rootNode;\n  }\n  var index = domIndex(rootNode, patches.a, indices);\n  var ownerDocument = rootNode.ownerDocument;\n  if (!renderOptions.document && ownerDocument !== document) {\n    renderOptions.document = ownerDocument;\n  }\n  for (var i = 0; i < indices.length; i++) {\n    var nodeIndex = indices[i];\n    rootNode = applyPatch(rootNode, index[nodeIndex], patches[nodeIndex], renderOptions);\n  }\n  return rootNode;\n}\nfunction applyPatch(rootNode, domNode, patchList, renderOptions) {\n  if (!domNode) {\n    return rootNode;\n  }\n  var newNode;\n  if (isArray(patchList)) {\n    for (var i = 0; i < patchList.length; i++) {\n      newNode = patchOp(patchList[i], domNode, renderOptions);\n      if (domNode === rootNode) {\n        rootNode = newNode;\n      }\n    }\n  } else {\n    newNode = patchOp(patchList, domNode, renderOptions);\n    if (domNode === rootNode) {\n      rootNode = newNode;\n    }\n  }\n  return rootNode;\n}\nfunction patchIndices(patches) {\n  var indices = [];\n  for (var key in patches) {\n    if (key !== \"a\") {\n      indices.push(Number(key));\n    }\n  }\n  return indices;\n}\n","/* */ \nmodule.exports = shallowEq;\r\n\r\nfunction shallowEq(currentArgs, previousArgs) {\r\n    if (currentArgs.length === 0 && previousArgs.length === 0) {\r\n        return true;\r\n    }\r\n\r\n    if (currentArgs.length !== previousArgs.length) {\r\n        return false;\r\n    }\r\n\r\n    var len = currentArgs.length;\r\n\r\n    for (var i = 0; i < len; i++) {\r\n        if (currentArgs[i] !== previousArgs[i]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n","/* */ \nfunction Thunk(fn, args, key, eqArgs) {\r\n    this.fn = fn;\r\n    this.args = args;\r\n    this.key = key;\r\n    this.eqArgs = eqArgs;\r\n}\r\n\r\nThunk.prototype.type = 'Thunk';\r\nThunk.prototype.render = render;\r\nmodule.exports = Thunk;\r\n\r\nfunction shouldUpdate(current, previous) {\r\n    if (!current || !previous || current.fn !== previous.fn) {\r\n        return true;\r\n    }\r\n\r\n    var cargs = current.args;\r\n    var pargs = previous.args;\r\n\r\n    return !current.eqArgs(cargs, pargs);\r\n}\r\n\r\nfunction render(previous) {\r\n    if (shouldUpdate(this, previous)) {\r\n        return this.fn.apply(null, this.args);\r\n    } else {\r\n        return previous.vnode;\r\n    }\r\n}\r\n","/* */ \nvar shallowEq = require('./shallow-eq');\nvar Thunk = require('./immutable-thunk');\nmodule.exports = createPartial;\nfunction createPartial(eq) {\n  return function partial(fn) {\n    var args = copyOver(arguments, 1);\n    var firstArg = args[0];\n    var key;\n    var eqArgs = eq || shallowEq;\n    if (typeof firstArg === 'object' && firstArg !== null) {\n      if ('key' in firstArg) {\n        key = firstArg.key;\n      } else if ('id' in firstArg) {\n        key = firstArg.id;\n      }\n    }\n    return new Thunk(fn, args, key, eqArgs);\n  };\n}\nfunction copyOver(list, offset) {\n  var newList = [];\n  for (var i = list.length - 1; i >= offset; i--) {\n    newList[i - offset] = list[i];\n  }\n  return newList;\n}\n","/* */ \nvar Partial = require('./partial');\nmodule.exports = Partial();\n","module.exports = require(\"npm:vdom-thunk@3.0.0/index\");","/* */ \nvar topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('@empty');\n\nif (typeof document !== 'undefined') {\n    module.exports = document;\n} else {\n    var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n\n    module.exports = doccy;\n}\n","/* */ \n\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n","module.exports = require(\"npm:is-object@1.0.1/index\");","/* */ \nvar isObject = require('is-object');\nvar isHook = require('../vnode/is-vhook');\nmodule.exports = applyProperties;\nfunction applyProperties(node, props, previous) {\n  for (var propName in props) {\n    var propValue = props[propName];\n    if (propValue === undefined) {\n      removeProperty(node, propName, propValue, previous);\n    } else if (isHook(propValue)) {\n      removeProperty(node, propName, propValue, previous);\n      if (propValue.hook) {\n        propValue.hook(node, propName, previous ? previous[propName] : undefined);\n      }\n    } else {\n      if (isObject(propValue)) {\n        patchObject(node, props, previous, propName, propValue);\n      } else {\n        node[propName] = propValue;\n      }\n    }\n  }\n}\nfunction removeProperty(node, propName, propValue, previous) {\n  if (previous) {\n    var previousValue = previous[propName];\n    if (!isHook(previousValue)) {\n      if (propName === \"attributes\") {\n        for (var attrName in previousValue) {\n          node.removeAttribute(attrName);\n        }\n      } else if (propName === \"style\") {\n        for (var i in previousValue) {\n          node.style[i] = \"\";\n        }\n      } else if (typeof previousValue === \"string\") {\n        node[propName] = \"\";\n      } else {\n        node[propName] = null;\n      }\n    } else if (previousValue.unhook) {\n      previousValue.unhook(node, propName, propValue);\n    }\n  }\n}\nfunction patchObject(node, props, previous, propName, propValue) {\n  var previousValue = previous ? previous[propName] : undefined;\n  if (propName === \"attributes\") {\n    for (var attrName in propValue) {\n      var attrValue = propValue[attrName];\n      if (attrValue === undefined) {\n        node.removeAttribute(attrName);\n      } else {\n        node.setAttribute(attrName, attrValue);\n      }\n    }\n    return;\n  }\n  if (previousValue && isObject(previousValue) && getPrototype(previousValue) !== getPrototype(propValue)) {\n    node[propName] = propValue;\n    return;\n  }\n  if (!isObject(node[propName])) {\n    node[propName] = {};\n  }\n  var replacer = propName === \"style\" ? \"\" : undefined;\n  for (var k in propValue) {\n    var value = propValue[k];\n    node[propName][k] = (value === undefined) ? replacer : value;\n  }\n}\nfunction getPrototype(value) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(value);\n  } else if (value.__proto__) {\n    return value.__proto__;\n  } else if (value.constructor) {\n    return value.constructor.prototype;\n  }\n}\n","/* */ \nvar isVNode = require('./is-vnode');\nvar isVText = require('./is-vtext');\nvar isWidget = require('./is-widget');\nvar isThunk = require('./is-thunk');\nmodule.exports = handleThunk;\nfunction handleThunk(a, b) {\n  var renderedA = a;\n  var renderedB = b;\n  if (isThunk(b)) {\n    renderedB = renderThunk(b, a);\n  }\n  if (isThunk(a)) {\n    renderedA = renderThunk(a, null);\n  }\n  return {\n    a: renderedA,\n    b: renderedB\n  };\n}\nfunction renderThunk(thunk, previous) {\n  var renderedThunk = thunk.vnode;\n  if (!renderedThunk) {\n    renderedThunk = thunk.vnode = thunk.render(previous);\n  }\n  if (!(isVNode(renderedThunk) || isVText(renderedThunk) || isWidget(renderedThunk))) {\n    throw new Error(\"thunk did not return a valid node\");\n  }\n  return renderedThunk;\n}\n","/* */ \nvar document = require('global/document');\nvar applyProperties = require('./apply-properties');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar handleThunk = require('../vnode/handle-thunk');\nmodule.exports = createElement;\nfunction createElement(vnode, opts) {\n  var doc = opts ? opts.document || document : document;\n  var warn = opts ? opts.warn : null;\n  vnode = handleThunk(vnode).a;\n  if (isWidget(vnode)) {\n    return vnode.init();\n  } else if (isVText(vnode)) {\n    return doc.createTextNode(vnode.text);\n  } else if (!isVNode(vnode)) {\n    if (warn) {\n      warn(\"Item is not a valid virtual dom node\", vnode);\n    }\n    return null;\n  }\n  var node = (vnode.namespace === null) ? doc.createElement(vnode.tagName) : doc.createElementNS(vnode.namespace, vnode.tagName);\n  var props = vnode.properties;\n  applyProperties(node, props);\n  var children = vnode.children;\n  for (var i = 0; i < children.length; i++) {\n    var childNode = createElement(children[i], opts);\n    if (childNode) {\n      node.appendChild(childNode);\n    }\n  }\n  return node;\n}\n","/* */ \nvar nativeIsArray = Array.isArray\nvar toString = Object.prototype.toString\n\nmodule.exports = nativeIsArray || isArray\n\nfunction isArray(obj) {\n    return toString.call(obj) === \"[object Array]\"\n}\n","module.exports = require(\"npm:x-is-array@0.1.0/index\");","/* */ \nvar version = require('./version');\nvar isVNode = require('./is-vnode');\nvar isWidget = require('./is-widget');\nvar isThunk = require('./is-thunk');\nvar isVHook = require('./is-vhook');\nmodule.exports = VirtualNode;\nvar noProperties = {};\nvar noChildren = [];\nfunction VirtualNode(tagName, properties, children, key, namespace) {\n  this.tagName = tagName;\n  this.properties = properties || noProperties;\n  this.children = children || noChildren;\n  this.key = key != null ? String(key) : undefined;\n  this.namespace = (typeof namespace === \"string\") ? namespace : null;\n  var count = (children && children.length) || 0;\n  var descendants = 0;\n  var hasWidgets = false;\n  var hasThunks = false;\n  var descendantHooks = false;\n  var hooks;\n  for (var propName in properties) {\n    if (properties.hasOwnProperty(propName)) {\n      var property = properties[propName];\n      if (isVHook(property) && property.unhook) {\n        if (!hooks) {\n          hooks = {};\n        }\n        hooks[propName] = property;\n      }\n    }\n  }\n  for (var i = 0; i < count; i++) {\n    var child = children[i];\n    if (isVNode(child)) {\n      descendants += child.count || 0;\n      if (!hasWidgets && child.hasWidgets) {\n        hasWidgets = true;\n      }\n      if (!hasThunks && child.hasThunks) {\n        hasThunks = true;\n      }\n      if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n        descendantHooks = true;\n      }\n    } else if (!hasWidgets && isWidget(child)) {\n      if (typeof child.destroy === \"function\") {\n        hasWidgets = true;\n      }\n    } else if (!hasThunks && isThunk(child)) {\n      hasThunks = true;\n    }\n  }\n  this.count = count + descendants;\n  this.hasWidgets = hasWidgets;\n  this.hasThunks = hasThunks;\n  this.hooks = hooks;\n  this.descendantHooks = descendantHooks;\n}\nVirtualNode.prototype.version = version;\nVirtualNode.prototype.type = \"VirtualNode\";\n","/* */ \nvar version = require('./version');\nmodule.exports = VirtualText;\nfunction VirtualText(text) {\n  this.text = String(text);\n}\nVirtualText.prototype.version = version;\nVirtualText.prototype.type = \"VirtualText\";\n","/* */ \nvar version = require('./version');\nmodule.exports = isVirtualNode;\nfunction isVirtualNode(x) {\n  return x && x.type === \"VirtualNode\" && x.version === version;\n}\n","/* */ \nmodule.exports = \"2\"\n","/* */ \nvar version = require('./version');\nmodule.exports = isVirtualText;\nfunction isVirtualText(x) {\n  return x && x.type === \"VirtualText\" && x.version === version;\n}\n","/* */ \nmodule.exports = isWidget\n\nfunction isWidget(w) {\n    return w && w.type === \"Widget\"\n}\n","/* */ \nmodule.exports = isHook\n\nfunction isHook(hook) {\n    return hook &&\n      (typeof hook.hook === \"function\" && !hook.hasOwnProperty(\"hook\") ||\n       typeof hook.unhook === \"function\" && !hook.hasOwnProperty(\"unhook\"))\n}\n","/* */ \nmodule.exports = isThunk\r\n\r\nfunction isThunk(t) {\r\n    return t && t.type === \"Thunk\"\r\n}\r\n","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n","module.exports = require(\"npm:browser-split@0.0.1/index.js\");","/* */ \n'use strict';\n\nvar split = require('browser-split');\n\nvar classIdSplit = /([\\.#]?[a-zA-Z0-9\\u007F-\\uFFFF_:-]+)/;\nvar notClassId = /^\\.|#/;\n\nmodule.exports = parseTag;\n\nfunction parseTag(tag, props) {\n    if (!tag) {\n        return 'DIV';\n    }\n\n    var noId = !(props.hasOwnProperty('id'));\n\n    var tagParts = split(tag, classIdSplit);\n    var tagName = null;\n\n    if (notClassId.test(tagParts[1])) {\n        tagName = 'DIV';\n    }\n\n    var classes, part, type, i;\n\n    for (i = 0; i < tagParts.length; i++) {\n        part = tagParts[i];\n\n        if (!part) {\n            continue;\n        }\n\n        type = part.charAt(0);\n\n        if (!tagName) {\n            tagName = part;\n        } else if (type === '.') {\n            classes = classes || [];\n            classes.push(part.substring(1, part.length));\n        } else if (type === '#' && noId) {\n            props.id = part.substring(1, part.length);\n        }\n    }\n\n    if (classes) {\n        if (props.className) {\n            classes.push(props.className);\n        }\n\n        props.className = classes.join(' ');\n    }\n\n    return props.namespace ? tagName : tagName.toUpperCase();\n}\n","/* */ \n'use strict';\n\nmodule.exports = SoftSetHook;\n\nfunction SoftSetHook(value) {\n    if (!(this instanceof SoftSetHook)) {\n        return new SoftSetHook(value);\n    }\n\n    this.value = value;\n}\n\nSoftSetHook.prototype.hook = function (node, propertyName) {\n    if (node[propertyName] !== this.value) {\n        node[propertyName] = this.value;\n    }\n};\n","/* */ \n'use strict';\n\n/*global window, global*/\n\nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual;\n\nfunction Individual(key, value) {\n    if (key in root) {\n        return root[key];\n    }\n\n    root[key] = value;\n\n    return value;\n}\n","/* */ \n'use strict';\nvar Individual = require('./index');\nmodule.exports = OneVersion;\nfunction OneVersion(moduleName, version, defaultValue) {\n  var key = '__INDIVIDUAL_ONE_VERSION_' + moduleName;\n  var enforceKey = key + '_ENFORCE_SINGLETON';\n  var versionValue = Individual(enforceKey, version);\n  if (versionValue !== version) {\n    throw new Error('Can only have one copy of ' + moduleName + '.\\n' + 'You already have version ' + versionValue + ' installed.\\n' + 'This means you cannot install version ' + version);\n  }\n  return Individual(key, defaultValue);\n}\n","/* */ \n'use strict';\n\nvar OneVersionConstraint = require('individual/one-version');\n\nvar MY_VERSION = '7';\nOneVersionConstraint('ev-store', MY_VERSION);\n\nvar hashKey = '__EV_STORE_KEY@' + MY_VERSION;\n\nmodule.exports = EvStore;\n\nfunction EvStore(elem) {\n    var hash = elem[hashKey];\n\n    if (!hash) {\n        hash = elem[hashKey] = {};\n    }\n\n    return hash;\n}\n","module.exports = require(\"npm:ev-store@7.0.0/index\");","/* */ \n'use strict';\n\nvar EvStore = require('ev-store');\n\nmodule.exports = EvHook;\n\nfunction EvHook(value) {\n    if (!(this instanceof EvHook)) {\n        return new EvHook(value);\n    }\n\n    this.value = value;\n}\n\nEvHook.prototype.hook = function (node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = this.value;\n};\n\nEvHook.prototype.unhook = function(node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = undefined;\n};\n","/* */ \n'use strict';\nvar isArray = require('x-is-array');\nvar VNode = require('../vnode/vnode');\nvar VText = require('../vnode/vtext');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isHook = require('../vnode/is-vhook');\nvar isVThunk = require('../vnode/is-thunk');\nvar parseTag = require('./parse-tag');\nvar softSetHook = require('./hooks/soft-set-hook');\nvar evHook = require('./hooks/ev-hook');\nmodule.exports = h;\nfunction h(tagName, properties, children) {\n  var childNodes = [];\n  var tag,\n      props,\n      key,\n      namespace;\n  if (!children && isChildren(properties)) {\n    children = properties;\n    props = {};\n  }\n  props = props || properties || {};\n  tag = parseTag(tagName, props);\n  if (props.hasOwnProperty('key')) {\n    key = props.key;\n    props.key = undefined;\n  }\n  if (props.hasOwnProperty('namespace')) {\n    namespace = props.namespace;\n    props.namespace = undefined;\n  }\n  if (tag === 'INPUT' && !namespace && props.hasOwnProperty('value') && props.value !== undefined && !isHook(props.value)) {\n    props.value = softSetHook(props.value);\n  }\n  transformProperties(props);\n  if (children !== undefined && children !== null) {\n    addChild(children, childNodes, tag, props);\n  }\n  return new VNode(tag, props, childNodes, key, namespace);\n}\nfunction addChild(c, childNodes, tag, props) {\n  if (typeof c === 'string') {\n    childNodes.push(new VText(c));\n  } else if (typeof c === 'number') {\n    childNodes.push(new VText(String(c)));\n  } else if (isChild(c)) {\n    childNodes.push(c);\n  } else if (isArray(c)) {\n    for (var i = 0; i < c.length; i++) {\n      addChild(c[i], childNodes, tag, props);\n    }\n  } else if (c === null || c === undefined) {\n    return;\n  } else {\n    throw UnexpectedVirtualElement({\n      foreignObject: c,\n      parentVnode: {\n        tagName: tag,\n        properties: props\n      }\n    });\n  }\n}\nfunction transformProperties(props) {\n  for (var propName in props) {\n    if (props.hasOwnProperty(propName)) {\n      var value = props[propName];\n      if (isHook(value)) {\n        continue;\n      }\n      if (propName.substr(0, 3) === 'ev-') {\n        props[propName] = evHook(value);\n      }\n    }\n  }\n}\nfunction isChild(x) {\n  return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n}\nfunction isChildren(x) {\n  return typeof x === 'string' || isArray(x) || isChild(x);\n}\nfunction UnexpectedVirtualElement(data) {\n  var err = new Error();\n  err.type = 'virtual-hyperscript.unexpected.virtual-element';\n  err.message = 'Unexpected virtual child passed to h().\\n' + 'Expected a VNode / Vthunk / VWidget / string but:\\n' + 'got:\\n' + errorString(data.foreignObject) + '.\\n' + 'The parent vnode is:\\n' + errorString(data.parentVnode);\n  '\\n' + 'Suggested fix: change your `h(..., [ ... ])` callsite.';\n  err.foreignObject = data.foreignObject;\n  err.parentVnode = data.parentVnode;\n  return err;\n}\nfunction errorString(obj) {\n  try {\n    return JSON.stringify(obj, null, '    ');\n  } catch (e) {\n    return String(obj);\n  }\n}\n","/* */ \nmodule.exports = require('./virtual-hyperscript/index');\n","/* */ \nmodule.exports = Observable\n\nfunction Observable(value) {\n    var listeners = []\n    value = value === undefined ? null : value\n\n    observable.set = function (v) {\n        value = v\n        listeners.forEach(function (f) {\n            f(v)\n        })\n    }\n\n    return observable\n\n    function observable(listener) {\n        if (!listener) {\n            return value\n        }\n\n        listeners.push(listener)\n\n        return function remove() {\n            listeners.splice(listeners.indexOf(listener), 1)\n        }\n    }\n}\n","/* */ \nvar Observable = require('./index');\nmodule.exports = computed;\nfunction computed(observables, lambda) {\n  var values = observables.map(function(o) {\n    return o();\n  });\n  var result = Observable(lambda.apply(null, values));\n  observables.forEach(function(o, index) {\n    o(function(newValue) {\n      values[index] = newValue;\n      result.set(lambda.apply(null, values));\n    });\n  });\n  return result;\n}\n","/* */ \nmodule.exports = watch\n\nfunction watch(observable, listener) {\n    var remove = observable(listener)\n    listener(observable())\n    return remove\n}\n","/* */ \n'use strict';\n\nvar SingleEvent = require('geval/single');\nvar MultipleEvent = require('geval/multiple');\nvar extend = require('xtend');\n\n/*\n    Pro tip: Don't require `mercury` itself.\n      require and depend on all these modules directly!\n*/\nvar mercury = module.exports = {\n    // Entry\n    main: require('main-loop'),\n    app: app,\n\n    // Base\n    BaseEvent: require('value-event/base-event'),\n\n    // Input\n    Delegator: require('dom-delegator'),\n    // deprecated: use hg.channels instead.\n    input: input,\n    // deprecated: use hg.channels instead.\n    handles: channels,\n    channels: channels,\n    // deprecated: use hg.send instead.\n    event: require('value-event/event'),\n    send: require('value-event/event'),\n    // deprecated: use hg.sendValue instead.\n    valueEvent: require('value-event/value'),\n    sendValue: require('value-event/value'),\n    // deprecated: use hg.sendSubmit instead.\n    submitEvent: require('value-event/submit'),\n    sendSubmit: require('value-event/submit'),\n    // deprecated: use hg.sendChange instead.\n    changeEvent: require('value-event/change'),\n    sendChange: require('value-event/change'),\n    // deprecated: use hg.sendKey instead.\n    keyEvent: require('value-event/key'),\n    sendKey: require('value-event/key'),\n    // deprecated use hg.sendClick instead.\n    clickEvent: require('value-event/click'),\n    sendClick: require('value-event/click'),\n\n    // State\n    // remove from core: favor hg.varhash instead.\n    array: require('observ-array'),\n    struct: require('observ-struct'),\n    // deprecated: use hg.struct instead.\n    hash: require('observ-struct'),\n    varhash: require('observ-varhash'),\n    value: require('observ'),\n    state: state,\n\n    // Render\n    diff: require('virtual-dom/vtree/diff'),\n    patch: require('virtual-dom/vdom/patch'),\n    partial: require('vdom-thunk'),\n    create: require('virtual-dom/vdom/create-element'),\n    h: require('virtual-dom/virtual-hyperscript'),\n\n    // Utilities\n    // remove from core: require computed directly instead.\n    computed: require('observ/computed'),\n    // remove from core: require watch directly instead.\n    watch: require('observ/watch')\n};\n\nfunction input(names) {\n    if (!names) {\n        return SingleEvent();\n    }\n\n    return MultipleEvent(names);\n}\n\nfunction state(obj) {\n    var copy = extend(obj);\n    var $channels = copy.channels;\n    var $handles = copy.handles;\n\n    if ($channels) {\n        copy.channels = mercury.value(null);\n    } else if ($handles) {\n        copy.handles = mercury.value(null);\n    }\n\n    var observ = mercury.struct(copy);\n    if ($channels) {\n        observ.channels.set(mercury.channels($channels, observ));\n    } else if ($handles) {\n        observ.handles.set(mercury.channels($handles, observ));\n    }\n    return observ;\n}\n\nfunction channels(funcs, context) {\n    return Object.keys(funcs).reduce(createHandle, {});\n\n    function createHandle(acc, name) {\n        var handle = mercury.Delegator.allocateHandle(\n            funcs[name].bind(null, context));\n\n        acc[name] = handle;\n        return acc;\n    }\n}\n\nfunction app(elem, observ, render, opts) {\n    if (!elem) {\n        throw new Error(\n            'Element does not exist. ' +\n            'Mercury cannot be initialized.');\n    }\n\n    mercury.Delegator(opts);\n    var loop = mercury.main(observ(), render, extend({\n        diff: mercury.diff,\n        create: mercury.create,\n        patch: mercury.patch\n    }, opts));\n\n    elem.appendChild(loop.target);\n\n    return observ(loop.update);\n}\n","module.exports = require(\"npm:mercury@14.1.0/index.js\");"]}